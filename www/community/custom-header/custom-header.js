var t={version:"Version"},o={docs:"Docs",forums:"Forums"},r={add_exception:"Add Exception",automatic:"automatic",buttons:"Buttons",cancel:"Cancel",chevrons_tip:"Disable scrolling arrows for tabs.",chevrons_title:"Display Tab Chevrons",compact_mode_tip:"Make header compact.",compact_mode_title:"Compact Mode",conditions:"Conditions",config:"Config",current_user_agent:"Current User Agent",current_user:"Current User",default_tab:"Default tab",disable_sidebar_tip:"Disable sidebar and menu button.",disable_sidebar_title:"Disable Sidebar",disabled_mode_tip:"Completely disable Custom-Header.",disabled_mode_title:"Disabled Mode",disabled_template:"Disabled: The current value is a template.",editor_warnings_second_title:"Display Editor Warnings & Info",editor_warnings_tip:"Toggle editor warnings.",editor_warnings_title:"Display this info and warnings section.",exceptions:"Exceptions",footer_mode_tip:"Turn the header into a footer or reverse split mode.",footer_mode_title:"Footer Mode",header_text:"Header text.",hidden_tab_redirect_tip:"Redirect from hidden tab.",hidden_tab_redirect_title:"Hidden Tab Redirect",hide_configure_ui_tip:"Hide item in options menu.",hide_configure_ui_title:"Hide 'Configure UI'",hide_header_tip:"Hide header, but allow swipe out of sidebar.",hide_header_title:"Disable Header",hide_help_tip:"Hide item in options menu.",hide_help_title:"Hide 'Help'",hide_raw_editor_tip:"Hide item in options menu.",hide_raw_editor_title:"Hide 'Raw Config Editor'",hide_tab_list:"Comma-separated list of tab numbers to hide",hide_unused_tip:"Hide item in options menu.",hide_unused_title:"Hide 'Unused Entities'",kiosk_mode_tip:"Hide and disable the header and sidebar",kiosk_mode_title:"Kiosk Mode",locale_desc:"Locale for default template variables (date/time).",media_query:"Media Query",menu_dropdown_tip:"Put menu button in options menu.",menu_dropdown_title:"Menu in Dropdown Menu",menu_hide_tip:"Hide the menu button.",menu_hide_title:"Hide Menu Button",menu_items:"Menu Items",options_hide_tip:"Hide the options button.",options_hide_title:"Hide Options Button",query_string:"Query String",removes_edit_ui:"Removes ability to edit UI.",reverse_button_tip:"Reverses all buttons orientation.",reverse_button_title:"Reverse Buttons Orientation",reverse_tab_tip:"Places tabs on right side in reverse order.",reverse_tab_title:"Reverse Tab Direction",save_and_reload:"Save and reload",save_failed:"Save failed",shadow_tip:"Hide header shadows",shadow_title:"Shadows",show_tab_list:"Comma-separated list of tab numbers to show",split_mode_tip:"Split header into one header one footer",split_mode_title:"Split Mode",tabs_hide:"Hide Tabs",tabs_show:"Show Tabs",tabs:"Tabs",template:"Template",user_agent:"User Agent",user_list:"User (Seperate multiple users with a comma.)",voice_dropdown_tip:"Put voice button in options menu.",voice_dropdown_title:"Voice in Dropdown Menu",voice_hide_tip:"Hide the voice button.",voice_hide_title:"Hide Voice Button",warning_already_a_template:"Designates items that are already a template and won't be modified by the editor.",warning_disable_ch:"You can temporaily disable Custom-Header by adding '?disable_ch' to the end of your URL.",warning_edit_ui:"Marks items that remove your ability to edit the UI.",warning_jinja_info:"All text options accept Jinja. Hover over any item for more info.",warning_raw_editor_reload:"After using the 'Raw Config Editor' you need to reload the page to restore Custom Header."},i={common:t,links:o,editor:r},a={version:"Versjon"},c={docs:"Documentasjon",forums:"Forum"},l={add_exception:"Legg til unntak",automatic:"automatisk",buttons:"Brytere",cancel:"Avbryt",chevrons_tip:"Deaktiver pilene på tab båndet.",chevrons_title:"Vis tab piler",compact_mode_tip:"Gjør headeren compact.",compact_mode_title:"Kompakt modus",conditions:"Betingelser",config:"Konfigurasjon",current_user_agent:"Nåværende User Agent",current_user:"Pålogget bruker",default_tab:"Standard tab",disable_sidebar_tip:"Deaktiver side panelet og meny knappen.",disable_sidebar_title:"Deaktiver side panelet",disabled_mode_tip:"Deaktiver Custom-Header.",disabled_mode_title:"Deaktivert modus",disabled_template:"Deaktivert: Nåværende verdi er en mal.",editor_warnings_second_title:"Vis editor advarser of informasjon",editor_warnings_tip:"Veksle editor advarsler.",editor_warnings_title:"Vis denne informasjonen og advarsel seksjoner.",exceptions:"Unntak",footer_mode_tip:"Gjør header til footer eller reversert split modus.",footer_mode_title:"Footer modus",header_text:"Header tekst.",hidden_tab_redirect_tip:"Omadresser fra gjemt tab.",hidden_tab_redirect_title:"Gjemt tab omadresser",hide_configure_ui_tip:"Gjem 'Konfigurer brukergrensesnitt' in nedtrekksmenyen.",hide_configure_ui_title:"Gjem 'Konfigurer brukergrensesnitt'",hide_header_tip:"Gjem headderen, men tillat å dra inn fra siden for å åpne side panelet",hide_help_tip:"Deaktiver header",hide_help_title:"Gjem 'Hjelp'",hide_raw_editor_tip:"Gjem 'Tekstbasert konfigurasjonsredigering' in nedtrekksmenyen.",hide_raw_editor_title:"Gjem 'Tekstbasert konfigurasjonsredigering'",hide_tab_list:"Komma separert liste over tabber som skal gjemmes",hide_unused_tip:"Gjem 'Unused Entities' in nedtrekksmenyen.",hide_unused_title:"Gjem 'Unused Entities'",kiosk_mode_tip:"Gjem og deaktiver headeren og side panelet.",kiosk_mode_title:"Kiosk modus",locale_desc:"Locale for standard mal variabler (dato/tip).",menu_dropdown_tip:"Plasser meny i nedtrekksmenyen.",menu_dropdown_title:"Meny i nedtrekksmenyen",menu_hide_tip:"Gjem meny knappen.",menu_hide_title:"Gjem meny knappen",menu_items:"Meny elementer",options_hide_tip:"Gjem alternativer knappen.",options_hide_title:"Gjem alternativer knappen",removes_edit_ui:"Fjerner muligheten til å redigere brukergrensesnittet.",reverse_button_tip:"Reverser alle bryter orienteringer.",reverse_button_title:"Reverser bryter orientering",reverse_tab_tip:"Plasser tabber på høyre side i reversert rekkefølge.",reverse_tab_title:"Reverser tab rettning",save_and_reload:"Lagre og last inn på nytt",save_failed:"Lagring feilet",shadow_tip:"Gjemheader skygger",shadow_title:"Skygger",show_tab_list:"Komma separert liste over tabber som skal vises",split_mode_tip:"Split modus, både header og footer",split_mode_title:"Split modus",tabs_hide:"Gjem Tabber",tabs_show:"Vis Tabber",tabs:"Tabber",template:"mal",user_list:"Bruker (Skill flere brukere med komma.)",voice_dropdown_tip:"Plasser stemme i nedtrekksmenyen.",voice_dropdown_title:"Stemme i nedtrekksmenyen",voice_hide_tip:"Gjem stemme knappen.",voice_hide_title:"Gjem stemme knappen",warning_already_a_template:"Etter å ha brukt 'Tekstbasert konfigurasjonsredigering', må du laste inn siden på nytt for å gjenopprette Custom Header.",warning_disable_ch:"Du kan deaktivere Custom-Header midlertidig ved å legge til '?disable_ch' på slutten av nettadressen.",warning_edit_ui:"Markerer elementer som fjerner muligheten til å redigere brukergrensesnittet.",warning_jinja_info:"Alle tekstalternativer godtar Jinja. Hold musepekeren over et hvilket som helst element for mer informasjon.",warning_raw_editor_reload:"After using the 'Tekstbasert konfigurasjonsredigering' you need to reload the page to restore Custom Header."},d={common:a,links:c,editor:l},u={en:Object.freeze({__proto__:null,common:t,links:o,editor:r,default:i}),nb:Object.freeze({__proto__:null,common:a,links:c,editor:l,default:d})};function localize(t){var o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=t.split(".")[0],c=t.split(".")[1],l=(localStorage.getItem("selectedLanguage")||"en").replace(/['"]+/g,"").replace("-","_");try{o=u[l][a][c]}catch(t){o=u.en[a][c]}return void 0===o&&(o=u.en[a][c]),""!==r&&""!==i&&(o=o.replace(r,i)),o}var h=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,p="[^\\s]+",m=/\[([^]*?)\]/gm;function shorten(t,o){for(var r=[],i=0,a=t.length;i<a;i++)r.push(t[i].substr(0,o));return r}var monthUpdate=function(t){return function(o,r){var i=r[t].map((function(t){return t.toLowerCase()})).indexOf(o.toLowerCase());return i>-1?i:null}};function assign(t){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];for(var i=0,a=o;i<a.length;i++){var c=a[i];for(var l in c)t[l]=c[l]}return t}var _=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b=["January","February","March","April","May","June","July","August","September","October","November","December"],y=shorten(b,3),g={dayNamesShort:shorten(_,3),dayNames:_,monthNamesShort:y,monthNames:b,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10?1:0)*t%10]}},v=assign({},g),pad=function(t,o){for(void 0===o&&(o=2),t=String(t);t.length<o;)t="0"+t;return t},w={D:function(t){return String(t.getDate())},DD:function(t){return pad(t.getDate())},Do:function(t,o){return o.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return pad(t.getDay())},ddd:function(t,o){return o.dayNamesShort[t.getDay()]},dddd:function(t,o){return o.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return pad(t.getMonth()+1)},MMM:function(t,o){return o.monthNamesShort[t.getMonth()]},MMMM:function(t,o){return o.monthNames[t.getMonth()]},YY:function(t){return pad(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return pad(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return pad(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return pad(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return pad(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return pad(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return pad(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return pad(t.getMilliseconds(),3)},a:function(t,o){return t.getHours()<12?o.amPm[0]:o.amPm[1]},A:function(t,o){return t.getHours()<12?o.amPm[0].toUpperCase():o.amPm[1].toUpperCase()},ZZ:function(t){var o=t.getTimezoneOffset();return(o>0?"-":"+")+pad(100*Math.floor(Math.abs(o)/60)+Math.abs(o)%60,4)},Z:function(t){var o=t.getTimezoneOffset();return(o>0?"-":"+")+pad(Math.floor(Math.abs(o)/60),2)+":"+pad(Math.abs(o)%60,2)}},monthParse=function(t){return+t-1},S=[null,"[1-9]\\d?"],x=[null,p],C=["isPm",p,function(t,o){var r=t.toLowerCase();return r===o.amPm[0]?0:r===o.amPm[1]?1:null}],k=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var o=(t+"").match(/([+-]|\d\d)/gi);if(o){var r=60*+o[1]+parseInt(o[2],10);return"+"===o[0]?r:-r}return 0}],O=(monthUpdate("monthNamesShort"),monthUpdate("monthNames"),{default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"});var fecha_format=function(t,o,r){if(void 0===o&&(o=O.default),void 0===r&&(r={}),"number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");var i=[];o=(o=O[o]||o).replace(m,(function(t,o){return i.push(o),"@@@"}));var a=assign(assign({},v),r);return(o=o.replace(h,(function(o){return w[o](t,a)}))).replace(/@@@/g,(function(){return i.shift()}))},j=(function(){try{(new Date).toLocaleDateString("i")}catch(t){return"RangeError"===t.name}}(),function(){try{(new Date).toLocaleString("i")}catch(t){return"RangeError"===t.name}}(),function(){try{(new Date).toLocaleTimeString("i")}catch(t){return"RangeError"===t.name}}(),function(t,o,r,i){i=i||{},r=null==r?{}:r;var a=new Event(o,{bubbles:void 0===i.bubbles||i.bubbles,cancelable:Boolean(i.cancelable),composed:void 0===i.composed||i.composed});return a.detail=r,t.dispatchEvent(a),a}),J=function(){var t=document.querySelector("home-assistant");if(t=(t=(t=(t=(t=(t=(t=(t=t&&t.shadowRoot)&&t.querySelector("home-assistant-main"))&&t.shadowRoot)&&t.querySelector("app-drawer-layout partial-panel-resolver"))&&t.shadowRoot||t)&&t.querySelector("ha-panel-lovelace"))&&t.shadowRoot)&&t.querySelector("hui-root")){var o=t.lovelace;return o.current_view=t.___curView,o}return null},E=function ha_elements(){var t={};if(t.lovelace=J(),t.homeAssistant=document.querySelector("home-assistant"),t.main=t.homeAssistant.shadowRoot.querySelector("home-assistant-main").shadowRoot,t.hass=t.homeAssistant.hass,t.partialPanel=t.main.querySelector("partial-panel-resolver"),t.panel=t.main.querySelector("ha-panel-lovelace"),t.panel&&(t.root=t.panel.shadowRoot.querySelector("hui-root"),t.root))return t.root=t.root.shadowRoot,t.tabs=Array.from((t.root.querySelector("paper-tabs")||t.root).querySelectorAll("paper-tab")),t.tabContainer=t.root.querySelector("paper-tabs"),t.menu=t.root.querySelector("ha-menu-button"),t.options=t.root.querySelector("paper-menu-button"),t.voice=t.root.querySelector("ha-start-voice-button")||t.root.querySelector('paper-icon-button[icon="hass:microphone"]')||t.root.querySelector('ha-icon-button[icon="hass:microphone"]'),t.drawer=t.main.querySelector("#drawer"),t.sidebar={},t.sidebar.main=t.main.querySelector("ha-sidebar").shadowRoot,t.sidebar.menu=t.sidebar.main.querySelector(".menu"),t.sidebar.listbox=t.sidebar.main.querySelector("paper-listbox"),t.sidebar.divider=t.sidebar.main.querySelector("div.divider"),t.appHeader=t.root.querySelector("app-header"),t.appLayout=t.root.querySelector("ha-app-layout"),t},q=function _deviceID(){if(window.fully&&"function"==typeof fully.getDeviceId)return fully.getDeviceId();if(!localStorage["lovelace-player-device-id"]){var t=function s4(){return Math.floor(1e5*(1+Math.random())).toString(16).substring(1)};localStorage["lovelace-player-device-id"]="".concat(t()).concat(t(),"-").concat(t()).concat(t())}return localStorage["lovelace-player-device-id"]}();var T=function _classCallCheck(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")};function _defineProperties(t,o){for(var r=0;r<o.length;r++){var i=o[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var A=function _createClass(t,o,r){return o&&_defineProperties(t.prototype,o),r&&_defineProperties(t,r),t},P=function(){function CustomHeader(t){if(T(this,CustomHeader),t){this.ha_elem=t;var o=this.ha_elem.appLayout.querySelector("ch-header"),r=this.ha_elem.appLayout.querySelector("ch-footer");o&&(o.parentNode.removeChild(o),r.parentNode.removeChild(r)),this.header=this.buildHeader(),this.footer=this.buildFooter()}}return A(CustomHeader,[{key:"buildHeader",value:function buildHeader(){var t=this,o={};o.tabContainer=document.createElement("paper-tabs"),o.tabContainer.setAttribute("dir","ltr"),o.tabContainer.setAttribute("scrollable",""),o.tabContainer.style.width="100%",o.tabContainer.style.marginLeft="0",this.ha_elem.tabs.forEach((function(r){var i=t.ha_elem.tabs.indexOf(r),a=r.cloneNode(!0),c=a.querySelector("ha-icon");t.tapOrClick(a,t.ha_elem.tabs[i]),c&&c.setAttribute("icon",t.ha_elem.lovelace.config.views[i].icon),o.tabContainer.appendChild(a)})),o.tabs=o.tabContainer.querySelectorAll("paper-tab");var r=document.createElement("ch-stack"),i=document.createElement("div");return i.setAttribute("id","ch-content-container"),o.container=document.createElement("ch-header"),this.cloneButton("menu","mdi:menu",o),this.cloneButton("voice","mdi:microphone",o),this.cloneButton("options","mdi:dots-vertical",o),o.container.appendChild(o.menu),o.container.appendChild(r),o.stack=o.container.querySelector("ch-stack"),o.stack.appendChild(i),o.stack.appendChild(o.tabContainer),o.container.appendChild(o.options),o.voice&&"hidden"!=o.voice.style.visibility&&o.container.appendChild(o.voice),o.container.style.visibility="hidden",this.ha_elem.appLayout.appendChild(o.container),o}},{key:"buildFooter",value:function buildFooter(){var t=this,o={};return o.tabContainer=document.createElement("paper-tabs"),o.tabContainer.setAttribute("dir","ltr"),o.tabContainer.setAttribute("scrollable",""),o.tabContainer.style.width="100%",o.tabContainer.style.marginLeft="0",this.ha_elem.tabs.forEach((function(r){var i=t.ha_elem.tabs.indexOf(r),a=r.cloneNode(!0),c=a.querySelector("ha-icon");t.tapOrClick(a,t.ha_elem.tabs[i]),c&&c.setAttribute("icon",t.ha_elem.lovelace.config.views[i].icon),o.tabContainer.appendChild(a)})),o.tabs=o.tabContainer.querySelectorAll("paper-tab"),o.container=document.createElement("ch-footer"),o.container.appendChild(o.tabContainer),o.container.style.visibility="hidden",this.ha_elem.appLayout.appendChild(o.container),o}},{key:"cloneButton",value:function cloneButton(t,o,r){var i=this;if("options"===t){r[t]=this.ha_elem[t].cloneNode(!0),r[t].removeAttribute("horizontal-offset"),r[t].querySelector("ha-icon-button, paper-icon-button").style.height="48px";var a=Array.from(r[t].querySelectorAll("paper-item"));a.forEach((function(o){var r=a.indexOf(o);i.tapOrClick(o,i.ha_elem[t].querySelectorAll("paper-item")[r])}))}else{if(!this.ha_elem[t])return;this.ha_elem.menu.shadowRoot.querySelector("paper-icon-button")?r[t]=document.createElement("paper-icon-button"):r[t]=document.createElement("ha-icon-button"),this.tapOrClick(r[t],"voice"==t?this.ha_elem[t]:this.ha_elem[t].shadowRoot.querySelector("mwc-icon-button, paper-icon-button")||this.ha_elem[t])}r[t].setAttribute("icon",o),r[t].setAttribute("buttonElem",t),r[t].style.flexShrink="0",r[t].style.height="48px"}},{key:"tapOrClick",value:function tapOrClick(t,o){t.setAttribute("onClick"," "),t.addEventListener("click",(function(){o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!1}))}))}},{key:"header",get:function get(){return this._header},set:function set(t){this._header=t}},{key:"footer",get:function get(){return this._footer},set:function set(t){this._footer=t}}]),CustomHeader}();function createCommonjsModule(t,o){return t(o={exports:{}},o.exports),o.exports}var H=createCommonjsModule((function(t){var o=function(t){var o=Object.prototype,r=o.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function wrap(t,o,r,i){var a=o&&o.prototype instanceof Generator?o:Generator,c=Object.create(a.prototype),l=new Context(i||[]);return c._invoke=function makeInvokeMethod(t,o,r){var i="suspendedStart";return function invoke(a,c){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===a)throw c;return doneResult()}for(r.method=a,r.arg=c;;){var l=r.delegate;if(l){var u=maybeInvokeDelegate(l,r);if(u){if(u===d)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===i)throw i="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i="executing";var h=tryCatch(t,o,r);if("normal"===h.type){if(i=r.done?"completed":"suspendedYield",h.arg===d)continue;return{value:h.arg,done:r.done}}"throw"===h.type&&(i="completed",r.method="throw",r.arg=h.arg)}}}(t,r,l),c}function tryCatch(t,o,r){try{return{type:"normal",arg:t.call(o,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=wrap;var d={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var u={};u[a]=function(){return this};var h=Object.getPrototypeOf,p=h&&h(h(values([])));p&&p!==o&&r.call(p,a)&&(u=p);var m=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(u);function defineIteratorMethods(t){["next","throw","return"].forEach((function(o){t[o]=function(t){return this._invoke(o,t)}}))}function AsyncIterator(t,o){var i;this._invoke=function enqueue(a,c){function callInvokeWithMethodAndArg(){return new o((function(i,l){!function invoke(i,a,c,l){var d=tryCatch(t[i],t,a);if("throw"!==d.type){var u=d.arg,h=u.value;return h&&"object"==typeof h&&r.call(h,"__await")?o.resolve(h.__await).then((function(t){invoke("next",t,c,l)}),(function(t){invoke("throw",t,c,l)})):o.resolve(h).then((function(t){u.value=t,c(u)}),(function(t){return invoke("throw",t,c,l)}))}l(d.arg)}(a,c,i,l)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(t,o){var r=t.iterator[o.method];if(void 0===r){if(o.delegate=null,"throw"===o.method){if(t.iterator.return&&(o.method="return",o.arg=void 0,maybeInvokeDelegate(t,o),"throw"===o.method))return d;o.method="throw",o.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=tryCatch(r,t.iterator,o.arg);if("throw"===i.type)return o.method="throw",o.arg=i.arg,o.delegate=null,d;var a=i.arg;return a?a.done?(o[t.resultName]=a.value,o.next=t.nextLoc,"return"!==o.method&&(o.method="next",o.arg=void 0),o.delegate=null,d):a:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,d)}function pushTryEntry(t){var o={tryLoc:t[0]};1 in t&&(o.catchLoc=t[1]),2 in t&&(o.finallyLoc=t[2],o.afterLoc=t[3]),this.tryEntries.push(o)}function resetTryEntry(t){var o=t.completion||{};o.type="normal",delete o.arg,t.completion=o}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(t){if(t){var o=t[a];if(o)return o.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,c=function next(){for(;++i<t.length;)if(r.call(t,i))return next.value=t[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return c.next=c}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=m.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[l]=GeneratorFunction.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var o="function"==typeof t&&t.constructor;return!!o&&(o===GeneratorFunction||"GeneratorFunction"===(o.displayName||o.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[c]=function(){return this},t.AsyncIterator=AsyncIterator,t.async=function(o,r,i,a,c){void 0===c&&(c=Promise);var l=new AsyncIterator(wrap(o,r,i,a),c);return t.isGeneratorFunction(r)?l:l.next().then((function(t){return t.done?t.value:l.next()}))},defineIteratorMethods(m),m[l]="Generator",m[a]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var o=[];for(var r in t)o.push(r);return o.reverse(),function next(){for(;o.length;){var r=o.pop();if(r in t)return next.value=r,next.done=!1,next}return next.done=!0,next}},t.values=values,Context.prototype={constructor:Context,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!t)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var o=this;function handle(r,i){return c.type="throw",c.arg=t,o.next=r,i&&(o.method="next",o.arg=void 0),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),d=r.call(a,"finallyLoc");if(l&&d){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,o){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var c=a;break}}c&&("break"===t||"continue"===t)&&c.tryLoc<=o&&o<=c.finallyLoc&&(c=null);var l=c?c.completion:{};return l.type=t,l.arg=o,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(l)},complete:function(t,o){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&o&&(this.next=o),d},finish:function(t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),d}},catch:function(t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var a=i.arg;resetTryEntry(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,o,r){return this.delegate={iterator:values(t),resultName:o,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}(t.exports);try{regeneratorRuntime=o}catch(t){Function("r","regeneratorRuntime = r")(o)}}));function asyncGeneratorStep(t,o,r,i,a,c,l){try{var d=t[c](l),u=d.value}catch(t){return void r(t)}d.done?o(u):Promise.resolve(u).then(i,a)}var M=function _asyncToGenerator(t){return function(){var o=this,r=arguments;return new Promise((function(i,a){var c=t.apply(o,r);function _next(t){asyncGeneratorStep(c,i,a,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,i,a,_next,_throw,"throw",t)}_next(void 0)}))}};var R=function _defineProperty(t,o,r){return o in t?Object.defineProperty(t,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[o]=r,t};function ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);o&&(i=i.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,i)}return r}function _objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(r),!0).forEach((function(o){R(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}Object.defineProperty(Array.prototype,"flat",{value:function value(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.reduce((function(o,r){return o.concat(Array.isArray(r)&&t-1?r.flat(t-1):r)}),[])}});var N=function tabIndexByName(t){var o=J();if(o){var r,i=o.config.views;return isNaN(t)?i.forEach((function(o){o.title!==t&&o.path!==t||(r=i.indexOf(o))})):r=parseInt(t,10),r}},L=function subscribeRenderTemplate(t,o,r){var i=function defaultVariables(t){var o=new Date,r={deviceID:q,userAgent:navigator.userAgent,url:window.location.href,time:o.toLocaleTimeString(t,{hour:"2-digit",minute:"2-digit"}),date:o.toLocaleDateString(t,{}),monthNum:o.getMonth()+1,monthNumLZ:String(o.getMonth()+1).padStart(2,0),monthNameShort:o.toLocaleDateString(t,{month:"short"}),monthNameLong:o.toLocaleDateString(t,{month:"long"}),dayNum:o.getDate(),dayNumLZ:String(o.getDate()).padStart(2,0),dayNameShort:o.toLocaleDateString(t,{weekday:"short"}),dayNameLong:o.toLocaleDateString(t,{weekday:"long"}),hours12:String((o.getHours()+24)%12||12),hours12LZ:String((o.getHours()+24)%12||12).padStart(2,0),hours24:o.getHours(),hours24LZ:String(o.getHours()).padStart(2,0),minutes:o.getMinutes(),minutesLZ:String(o.getMinutes()).padStart(2,0),year2d:String(o.getFullYear()).substr(-2),year4d:o.getFullYear(),AMPM:o.getHours()>=12?"PM":"AM",ampm:o.getHours()>=12?"pm":"am"},i=E().hass;r.hassVersion=i?i.config.version:"",r.isAdmin=i?i.user.is_admin:"",r.isOwner=i?i.user.is_owner:"",r.user=i?i.user.name:"",r.userID=i?i.user.id:"";var a=J(),c=a&&null!=a.config.views[a.current_view];return r.viewIndex=a?a.current_view:"",r.viewTitle=c&&a.config.views[a.current_view].title||"",r.viewPath=c&&a.config.views[a.current_view].path||"",r}(r);i||window.setTimeout((function(){subscribeRenderTemplate(t,o,r)}),500);var a=E().hass,c=a.connection,l=_objectSpread(_objectSpread({user:a.user.name,browser:navigator.userAgent},o.variables),i),d=o.template,u=o.entity_ids;return c.subscribeMessage((function(o){return t(o.result)}),{type:"render_template",template:d,variables:l,entity_ids:u})},D=function buildRange(t){var o=[],r=function range(t,o){return new Array(o-t+1).fill(void 0).map((function(o,r){return r+t}))};if(t.includes("to")){var i=t.split("to");parseInt(i[1])>parseInt(i[0])?o.push(r(parseInt(i[0]),parseInt(i[1]))):o.push(r(parseInt(i[1]),parseInt(i[0])))}return o.flat()},z=function processTabArray(t){var o=[];for(var r in t="string"==typeof t?t.replace(/\s+/g,"").split(","):t)if("string"==typeof t[r]&&t[r].includes("to")){var i=t[r].replace(/ /g,"").split("to");i[0].match(/[a-z]/g)||i[1].match(/[a-z]/g)?o.push(t[r]):o.push(D(t[r]))}else o.push(t[r]);for(var a in o=o.flat())isNaN(o[a])?o[a]=N(o[a]):o[a]=parseInt(o[a]);return o.sort((function sortNumber(t,o){return t-o}))};function ownKeys$1(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);o&&(i=i.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,i)}return r}function _objectSpread$1(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?ownKeys$1(Object(r),!0).forEach((function(o){R(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var I=function conditionalConfig(t){var o=E().hass,r=document.querySelector("body > home-assistant").shadowRoot.querySelector("home-assistant-main").shadowRoot.querySelector("app-drawer-layout > partial-panel-resolver > ha-panel-lovelace").lovelace,i={},a=0;return t.exceptions&&t.exceptions.forEach((function(t){var c=function countMatches(t){var i={user:o.user.name,user_agent:navigator.userAgent,device_id:q},a=0,c=function _loop(c){if(window.customHeaderTabCond=!!Object.keys(t).includes("tab"),"user"==c&&t[c].includes(","))t[c].split(/,+/).forEach((function(t){i[c]!=t.trim()&&t!=o.user.id||a++}));else if("tab"==c&&(t[c].includes(",")||t[c].includes("to"))){var l=z(t[c]);if(r&&l.includes(r.current_view))return a++,"continue"}else{if(!(i[c]==t[c]||"query_string"==c&&window.location.search.includes(t[c])||"user_agent"==c&&i[c].includes(t[c])||"media_query"==c&&window.matchMedia(t[c]).matches||"user"==c&&t[c]==o.user.id||"is_admin"==c&&t[c]==o.user.is_admin||"is_owner"==c&&t[c]==o.user.is_owner||"template"==c&&t[c]||r&&"tab"==c&&N(t[c])==r.current_view))return{v:0};a++}};for(var l in t){var d=c(l);switch(d){case"continue":continue;default:if("object"==typeof d)return d.v}}return a}(t.conditions);c>a&&(a=c,i=t.config)})),i&&i.default_tab&&(null==i.default_tab||"null"==i.default_tab)&&(t.default_tab=[]),i&&(void 0!==i.hide_tabs&&t.show_tabs&&i.hide_tabs.length&&t.show_tabs.length?delete t.show_tabs:i.show_tabs&&t.hide_tabs&&i.show_tabs.length&&t.hide_tabs.length&&delete t.hide_tabs),_objectSpread$1(_objectSpread$1({},t),i)};var $=function _taggedTemplateLiteral(t,o){return o||(o=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(o)}}))},V=createCommonjsModule((function(t){function _setPrototypeOf(o,r){return t.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,o){return t.__proto__=o,t},_setPrototypeOf(o,r)}t.exports=_setPrototypeOf}));var U=function _inherits(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(o&&o.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),o&&V(t,o)},Y=createCommonjsModule((function(t){function _typeof(o){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=_typeof=function _typeof(t){return typeof t}:t.exports=_typeof=function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(o)}t.exports=_typeof}));var G=function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t};var B=function _possibleConstructorReturn(t,o){return!o||"object"!==Y(o)&&"function"!=typeof o?G(t):o},K=createCommonjsModule((function(t){function _getPrototypeOf(o){return t.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(o)}t.exports=_getPrototypeOf}));
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const W="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,removeNodes=(t,o,r=null)=>{for(;o!==r;){const r=o.nextSibling;t.removeChild(o),o=r}},Z=`{{lit-${String(Math.random()).slice(2)}}}`,Q=`\x3c!--${Z}--\x3e`,X=new RegExp(`${Z}|${Q}`);class Template{constructor(t,o){this.parts=[],this.element=o;const r=[],i=[],a=document.createTreeWalker(o.content,133,null,!1);let c=0,l=-1,d=0;const{strings:u,values:{length:h}}=t;for(;d<h;){const t=a.nextNode();if(null!==t){if(l++,1===t.nodeType){if(t.hasAttributes()){const o=t.attributes,{length:r}=o;let i=0;for(let t=0;t<r;t++)endsWith(o[t].name,"$lit$")&&i++;for(;i-- >0;){const o=u[d],r=ee.exec(o)[2],i=r.toLowerCase()+"$lit$",a=t.getAttribute(i);t.removeAttribute(i);const c=a.split(X);this.parts.push({type:"attribute",index:l,name:r,strings:c}),d+=c.length-1}}"TEMPLATE"===t.tagName&&(i.push(t),a.currentNode=t.content)}else if(3===t.nodeType){const o=t.data;if(o.indexOf(Z)>=0){const i=t.parentNode,a=o.split(X),c=a.length-1;for(let o=0;o<c;o++){let r,c=a[o];if(""===c)r=createMarker();else{const t=ee.exec(c);null!==t&&endsWith(t[2],"$lit$")&&(c=c.slice(0,t.index)+t[1]+t[2].slice(0,-"$lit$".length)+t[3]),r=document.createTextNode(c)}i.insertBefore(r,t),this.parts.push({type:"node",index:++l})}""===a[c]?(i.insertBefore(createMarker(),t),r.push(t)):t.data=a[c],d+=c}}else if(8===t.nodeType)if(t.data===Z){const o=t.parentNode;null!==t.previousSibling&&l!==c||(l++,o.insertBefore(createMarker(),t)),c=l,this.parts.push({type:"node",index:l}),null===t.nextSibling?t.data="":(r.push(t),l--),d++}else{let o=-1;for(;-1!==(o=t.data.indexOf(Z,o+1));)this.parts.push({type:"node",index:-1}),d++}}else a.currentNode=i.pop()}for(const t of r)t.parentNode.removeChild(t)}}const endsWith=(t,o)=>{const r=t.length-o.length;return r>=0&&t.slice(r)===o},isTemplatePartActive=t=>-1!==t.index,createMarker=()=>document.createComment(""),ee=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function removeNodesFromTemplate(t,o){const{element:{content:r},parts:i}=t,a=document.createTreeWalker(r,133,null,!1);let c=nextActiveIndexInTemplateParts(i),l=i[c],d=-1,u=0;const h=[];let p=null;for(;a.nextNode();){d++;const t=a.currentNode;for(t.previousSibling===p&&(p=null),o.has(t)&&(h.push(t),null===p&&(p=t)),null!==p&&u++;void 0!==l&&l.index===d;)l.index=null!==p?-1:l.index-u,c=nextActiveIndexInTemplateParts(i,c),l=i[c]}h.forEach(t=>t.parentNode.removeChild(t))}const countNodes=t=>{let o=11===t.nodeType?0:1;const r=document.createTreeWalker(t,133,null,!1);for(;r.nextNode();)o++;return o},nextActiveIndexInTemplateParts=(t,o=-1)=>{for(let r=o+1;r<t.length;r++){const o=t[r];if(isTemplatePartActive(o))return r}return-1};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const te=new WeakMap,isDirective=t=>"function"==typeof t&&te.has(t),ne={},oe={};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class TemplateInstance{constructor(t,o,r){this.__parts=[],this.template=t,this.processor=o,this.options=r}update(t){let o=0;for(const r of this.__parts)void 0!==r&&r.setValue(t[o]),o++;for(const t of this.__parts)void 0!==t&&t.commit()}_clone(){const t=W?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),o=[],r=this.template.parts,i=document.createTreeWalker(t,133,null,!1);let a,c=0,l=0,d=i.nextNode();for(;c<r.length;)if(a=r[c],isTemplatePartActive(a)){for(;l<a.index;)l++,"TEMPLATE"===d.nodeName&&(o.push(d),i.currentNode=d.content),null===(d=i.nextNode())&&(i.currentNode=o.pop(),d=i.nextNode());if("node"===a.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(d.previousSibling),this.__parts.push(t)}else this.__parts.push(...this.processor.handleAttributeExpressions(d,a.name,a.strings,this.options));c++}else this.__parts.push(void 0),c++;return W&&(document.adoptNode(t),customElements.upgrade(t)),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const re=` ${Z} `;class TemplateResult{constructor(t,o,r,i){this.strings=t,this.values=o,this.type=r,this.processor=i}getHTML(){const t=this.strings.length-1;let o="",r=!1;for(let i=0;i<t;i++){const t=this.strings[i],a=t.lastIndexOf("\x3c!--");r=(a>-1||r)&&-1===t.indexOf("--\x3e",a+1);const c=ee.exec(t);o+=null===c?t+(r?re:Q):t.substr(0,c.index)+c[1]+c[2]+"$lit$"+c[3]+Z}return o+=this.strings[t],o}getTemplateElement(){const t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const isPrimitive=t=>null===t||!("object"==typeof t||"function"==typeof t),isIterable=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class AttributeCommitter{constructor(t,o,r){this.dirty=!0,this.element=t,this.name=o,this.strings=r,this.parts=[];for(let t=0;t<r.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new AttributePart(this)}_getValue(){const t=this.strings,o=t.length-1;let r="";for(let i=0;i<o;i++){r+=t[i];const o=this.parts[i];if(void 0!==o){const t=o.value;if(isPrimitive(t)||!isIterable(t))r+="string"==typeof t?t:String(t);else for(const o of t)r+="string"==typeof o?o:String(o)}}return r+=t[o],r}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class AttributePart{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===ne||isPrimitive(t)&&t===this.value||(this.value=t,isDirective(t)||(this.committer.dirty=!0))}commit(){for(;isDirective(this.value);){const t=this.value;this.value=ne,t(this)}this.value!==ne&&this.committer.commit()}}class NodePart{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(createMarker()),this.endNode=t.appendChild(createMarker())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=createMarker()),t.__insert(this.endNode=createMarker())}insertAfterPart(t){t.__insert(this.startNode=createMarker()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){if(null===this.startNode.parentNode)return;for(;isDirective(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=ne,t(this)}const t=this.__pendingValue;t!==ne&&(isPrimitive(t)?t!==this.value&&this.__commitText(t):t instanceof TemplateResult?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):isIterable(t)?this.__commitIterable(t):t===oe?(this.value=oe,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const o=this.startNode.nextSibling,r="string"==typeof(t=null==t?"":t)?t:String(t);o===this.endNode.previousSibling&&3===o.nodeType?o.data=r:this.__commitNode(document.createTextNode(r)),this.value=t}__commitTemplateResult(t){const o=this.options.templateFactory(t);if(this.value instanceof TemplateInstance&&this.value.template===o)this.value.update(t.values);else{const r=new TemplateInstance(o,t.processor,this.options),i=r._clone();r.update(t.values),this.__commitNode(i),this.value=r}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const o=this.value;let r,i=0;for(const a of t)r=o[i],void 0===r&&(r=new NodePart(this.options),o.push(r),0===i?r.appendIntoPart(this):r.insertAfterPart(o[i-1])),r.setValue(a),r.commit(),i++;i<o.length&&(o.length=i,this.clear(r&&r.endNode))}clear(t=this.startNode){removeNodes(this.startNode.parentNode,t.nextSibling,this.endNode)}}class BooleanAttributePart{constructor(t,o,r){if(this.value=void 0,this.__pendingValue=void 0,2!==r.length||""!==r[0]||""!==r[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=o,this.strings=r}setValue(t){this.__pendingValue=t}commit(){for(;isDirective(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=ne,t(this)}if(this.__pendingValue===ne)return;const t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=ne}}class PropertyCommitter extends AttributeCommitter{constructor(t,o,r){super(t,o,r),this.single=2===r.length&&""===r[0]&&""===r[1]}_createPart(){return new PropertyPart(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class PropertyPart extends AttributePart{}let ie=!1;(()=>{try{const t={get capture(){return ie=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}})();class EventPart{constructor(t,o,r){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=o,this.eventContext=r,this.__boundHandleEvent=t=>this.handleEvent(t)}setValue(t){this.__pendingValue=t}commit(){for(;isDirective(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=ne,t(this)}if(this.__pendingValue===ne)return;const t=this.__pendingValue,o=this.value,r=null==t||null!=o&&(t.capture!==o.capture||t.once!==o.once||t.passive!==o.passive),i=null!=t&&(null==o||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=getOptions(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=ne}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const getOptions=t=>t&&(ie?{capture:t.capture,passive:t.passive,once:t.once}:t.capture)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;function templateFactory(t){let o=ae.get(t.type);void 0===o&&(o={stringsArray:new WeakMap,keyString:new Map},ae.set(t.type,o));let r=o.stringsArray.get(t.strings);if(void 0!==r)return r;const i=t.strings.join(Z);return r=o.keyString.get(i),void 0===r&&(r=new Template(t,t.getTemplateElement()),o.keyString.set(i,r)),o.stringsArray.set(t.strings,r),r}const ae=new Map,se=new WeakMap;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const ce=new
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class DefaultTemplateProcessor{handleAttributeExpressions(t,o,r,i){const a=o[0];if("."===a){return new PropertyCommitter(t,o.slice(1),r).parts}if("@"===a)return[new EventPart(t,o.slice(1),i.eventContext)];if("?"===a)return[new BooleanAttributePart(t,o.slice(1),r)];return new AttributeCommitter(t,o,r).parts}handleTextExpression(t){return new NodePart(t)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.2.1");const html=(t,...o)=>new TemplateResult(t,o,"html",ce)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */,getTemplateCacheKey=(t,o)=>`${t}--${o}`;let le=!0;void 0===window.ShadyCSS?le=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),le=!1);const shadyTemplateFactory=t=>o=>{const r=getTemplateCacheKey(o.type,t);let i=ae.get(r);void 0===i&&(i={stringsArray:new WeakMap,keyString:new Map},ae.set(r,i));let a=i.stringsArray.get(o.strings);if(void 0!==a)return a;const c=o.strings.join(Z);if(a=i.keyString.get(c),void 0===a){const r=o.getTemplateElement();le&&window.ShadyCSS.prepareTemplateDom(r,t),a=new Template(o,r),i.keyString.set(c,a)}return i.stringsArray.set(o.strings,a),a},de=["html","svg"],ue=new Set,prepareTemplateStyles=(t,o,r)=>{ue.add(t);const i=r?r.element:document.createElement("template"),a=o.querySelectorAll("style"),{length:c}=a;if(0===c)return void window.ShadyCSS.prepareTemplateStyles(i,t);const l=document.createElement("style");for(let t=0;t<c;t++){const o=a[t];o.parentNode.removeChild(o),l.textContent+=o.textContent}(t=>{de.forEach(o=>{const r=ae.get(getTemplateCacheKey(o,t));void 0!==r&&r.keyString.forEach(t=>{const{element:{content:o}}=t,r=new Set;Array.from(o.querySelectorAll("style")).forEach(t=>{r.add(t)}),removeNodesFromTemplate(t,r)})})})(t);const d=i.content;r?function insertNodeIntoTemplate(t,o,r=null){const{element:{content:i},parts:a}=t;if(null==r)return void i.appendChild(o);const c=document.createTreeWalker(i,133,null,!1);let l=nextActiveIndexInTemplateParts(a),d=0,u=-1;for(;c.nextNode();){u++;for(c.currentNode===r&&(d=countNodes(o),r.parentNode.insertBefore(o,r));-1!==l&&a[l].index===u;){if(d>0){for(;-1!==l;)a[l].index+=d,l=nextActiveIndexInTemplateParts(a,l);return}l=nextActiveIndexInTemplateParts(a,l)}}}(r,l,d.firstChild):d.insertBefore(l,d.firstChild),window.ShadyCSS.prepareTemplateStyles(i,t);const u=d.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==u)o.insertBefore(u.cloneNode(!0),o.firstChild);else if(r){d.insertBefore(l,d.firstChild);const t=new Set;t.add(l),removeNodesFromTemplate(r,t)}};window.JSCompiler_renameProperty=(t,o)=>t;const he={toAttribute(t,o){switch(o){case Boolean:return t?"":null;case Object:case Array:return null==t?t:JSON.stringify(t)}return t},fromAttribute(t,o){switch(o){case Boolean:return null!==t;case Number:return null===t?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},notEqual=(t,o)=>o!==t&&(o==o||t==t),pe={attribute:!0,type:String,converter:he,reflect:!1,hasChanged:notEqual};class UpdatingElement extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=new Promise(t=>this._enableUpdatingResolver=t),this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();const t=[];return this._classProperties.forEach((o,r)=>{const i=this._attributeNameForProperty(r,o);void 0!==i&&(this._attributeToPropertyMap.set(i,r),t.push(i))}),t}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const t=Object.getPrototypeOf(this)._classProperties;void 0!==t&&t.forEach((t,o)=>this._classProperties.set(o,t))}}static createProperty(t,o=pe){if(this._ensureClassProperties(),this._classProperties.set(t,o),o.noAccessor||this.prototype.hasOwnProperty(t))return;const r="symbol"==typeof t?Symbol():"__"+t,i=this.getPropertyDescriptor(t,r,o);void 0!==i&&Object.defineProperty(this.prototype,t,i)}static getPropertyDescriptor(t,o,r){return{get(){return this[o]},set(r){const i=this[t];this[o]=r,this._requestUpdate(t,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this._classProperties&&this._classProperties.get(t)||pe}static finalize(){const t=Object.getPrototypeOf(this);if(t.hasOwnProperty("finalized")||t.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const t=this.properties,o=[...Object.getOwnPropertyNames(t),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]];for(const r of o)this.createProperty(r,t[r])}}static _attributeNameForProperty(t,o){const r=o.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof t?t.toLowerCase():void 0}static _valueHasChanged(t,o,r=notEqual){return r(t,o)}static _propertyValueFromAttribute(t,o){const r=o.type,i=o.converter||he,a="function"==typeof i?i:i.fromAttribute;return a?a(t,r):t}static _propertyValueToAttribute(t,o){if(void 0===o.reflect)return;const r=o.type,i=o.converter;return(i&&i.toAttribute||he.toAttribute)(t,r)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((t,o)=>{if(this.hasOwnProperty(o)){const t=this[o];delete this[o],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(o,t)}})}_applyInstanceProperties(){this._instanceProperties.forEach((t,o)=>this[o]=t),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(t,o,r){o!==r&&this._attributeToProperty(t,r)}_propertyToAttribute(t,o,r=pe){const i=this.constructor,a=i._attributeNameForProperty(t,r);if(void 0!==a){const t=i._propertyValueToAttribute(o,r);if(void 0===t)return;this._updateState=8|this._updateState,null==t?this.removeAttribute(a):this.setAttribute(a,t),this._updateState=-9&this._updateState}}_attributeToProperty(t,o){if(8&this._updateState)return;const r=this.constructor,i=r._attributeToPropertyMap.get(t);if(void 0!==i){const t=r.getPropertyOptions(i);this._updateState=16|this._updateState,this[i]=r._propertyValueFromAttribute(o,t),this._updateState=-17&this._updateState}}_requestUpdate(t,o){let r=!0;if(void 0!==t){const i=this.constructor,a=i.getPropertyOptions(t);i._valueHasChanged(this[t],o,a.hasChanged)?(this._changedProperties.has(t)||this._changedProperties.set(t,o),!0!==a.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(t,a))):r=!1}!this._hasRequestedUpdate&&r&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(t,o){return this._requestUpdate(t,o),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(t){}const t=this.performUpdate();return null!=t&&await t,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let t=!1;const o=this._changedProperties;try{t=this.shouldUpdate(o),t?this.update(o):this._markUpdated()}catch(o){throw t=!1,this._markUpdated(),o}t&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(o)),this.updated(o))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(t){return!0}update(t){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((t,o)=>this._propertyToAttribute(o,this[o],t)),this._reflectingProperties=void 0),this._markUpdated()}updated(t){}firstUpdated(t){}}UpdatingElement.finalized=!0;
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const me="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */(window.litElementVersions||(window.litElementVersions=[])).push("2.3.1");const _e={};class LitElement extends UpdatingElement{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const t=this.getStyles();if(void 0===t)this._styles=[];else if(Array.isArray(t)){const addStyles=(t,o)=>t.reduceRight((t,o)=>Array.isArray(o)?addStyles(o,t):(t.add(o),t),o),o=addStyles(t,new Set),r=[];o.forEach(t=>r.unshift(t)),this._styles=r}else this._styles=[t]}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const t=this.constructor._styles;0!==t.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?me?this.renderRoot.adoptedStyleSheets=t.map(t=>t.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(t.map(t=>t.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(t){const o=this.render();super.update(t),o!==_e&&this.constructor.render(o,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(t=>{const o=document.createElement("style");o.textContent=t.cssText,this.renderRoot.appendChild(o)}))}render(){return _e}}LitElement.finalized=!0,LitElement.render=(t,o,r)=>{if(!r||"object"!=typeof r||!r.scopeName)throw new Error("The `scopeName` option is required.");const i=r.scopeName,a=se.has(o),c=le&&11===o.nodeType&&!!o.host,l=c&&!ue.has(i),d=l?document.createDocumentFragment():o;if(((t,o,r)=>{let i=se.get(o);void 0===i&&(removeNodes(o,o.firstChild),se.set(o,i=new NodePart(Object.assign({templateFactory:templateFactory},r))),i.appendInto(o)),i.setValue(t),i.commit()})(t,d,Object.assign({templateFactory:shadyTemplateFactory(i)},r)),l){const t=se.get(d);se.delete(d);const r=t.value instanceof TemplateInstance?t.value.template:void 0;prepareTemplateStyles(i,d,r),removeNodes(o,o.firstChild),o.appendChild(d),se.set(o,t)}!a&&c&&window.ShadyCSS.styleElement(o.host)};var fe=function getThemeVar(t){return getComputedStyle(document.body).getPropertyValue(t)},be=function defaultConfig(){if(J())return{locale:[],header_text:J().config.title||"Home Assistant",disabled_mode:!1,kiosk_mode:!1,compact_mode:!1,footer_mode:!1,split_mode:!1,disable_sidebar:!1,hide_header:!1,chevrons:!0,indicator_top:!1,hidden_tab_redirect:!0,shadow:!0,default_tab_on_refresh:!0,background:fe("--ch-background")||fe("--app-header-background-color")||"var(--primary-color)",elements_color:fe("--ch-elements-color")||fe("--app-header-text-color")||"var(--text-primary-color)",menu_color:fe("--ch-menu-color")||"",voice_color:fe("--ch-voice-color")||"",options_color:fe("--ch-options-color")||"",all_tabs_color:fe("--ch-all-tabs-color")||"",notification_dot_color:fe("--ch-notification-dot-color")||fe("var(--accent-color)")||"#ff9800",tab_indicator_color:fe("--ch-tab-indicator-color")||"",active_tab_color:fe("--ch-active-tab-color")||"",tabs_color:[],hide_tabs:[],show_tabs:[],default_tab:"",tab_icons:[],reverse_tab_direction:!1,button_icons:[],button_text:[],reverse_button_direction:!1,menu_dropdown:!1,menu_hide:!1,voice_dropdown:!1,voice_hide:!1,options_hide:!1,button_scroll:!1,hide_help:!1,hide_unused:!1,hide_refresh:!1,hide_config:!1,hide_raw:!1,hide_ch_settings:!1,hide_reload_resources:!1,tabs_css:[],header_css:"",stack_css:"",header_text_css:"",active_tab_css:"",options_list_css:"",menu_css:"",options_css:"",voice_css:"",all_tabs_css:"",tab_container_css:"",view_css:"",panel_view_css:"",template_variables:"",exceptions:[],editor_warnings:!0}};function _templateObject21(){var t=$(['\n      <paper-input\n        label="','"\n        .value="','"\n        .configValue="','"\n        @value-changed="','"\n      >\n      </paper-input>\n      <paper-input\n        label="','"\n        .value="','"\n        .configValue="','"\n        @value-changed="','"\n      >\n      </paper-input>\n      <paper-input\n        label="','"\n        .value="','"\n        .configValue="','"\n        @value-changed="','"\n      >\n      </paper-input>\n      <paper-input\n        label="','"\n        .value="','"\n        .configValue="','"\n        @value-changed="','"\n      >\n      </paper-input>\n      <paper-input\n        label="','"\n        .value="','"\n        .configValue="','"\n        @value-changed="','"\n      >\n      </paper-input>\n      <paper-input\n        label="','"\n        .value="','"\n        .configValue="','"\n        @value-changed="','"\n      >\n      </paper-input>\n      <paper-input\n        label="Device ID"\n        .value="','"\n        .configValue="','"\n        @value-changed="','"\n      >\n      </paper-input>\n    ']);return _templateObject21=function _templateObject21(){return t},t}function _templateObject20(){var t=$([""]);return _templateObject20=function _templateObject20(){return t},t}function _templateObject19(){var t=$(["\n      <style>\n        h3,\n        h4 {\n          font-size: 16pt;\n          margin-bottom: 5px;\n          width: 100%;\n        }\n        [closed] {\n          overflow: hidden;\n          height: 52px;\n        }\n        paper-card {\n          margin-top: 10px;\n          width: 100%;\n          transition: all 0.5s ease;\n        }\n        .underline {\n          width: 100%;\n          background: var(--dark-color);\n          color: var(--text-dark-color);\n          padding: 5px;\n          width: calc(100% + 30px);\n          margin-left: calc(0% - 20px);\n        }\n      </style>\n    "]);return _templateObject19=function _templateObject19(){return t},t}function _templateObject18(){var t=$(["\n      ",'\n      <custom-style>\n        <style is="custom-style">\n          .card-header {\n            margin-top: -5px;\n            @apply --paper-font-headline;\n          }\n          .card-header ha-icon-button {\n            margin-top: -5px;\n            float: right;\n          }\n        </style>\n      </custom-style>\n      <paper-card ?closed=','>\n        <div class="card-content">\n          <div class="card-header">\n            ','\n            <ha-icon-button icon="','" @click="','">\n            </ha-icon-button>\n            <ha-icon-button ?hidden=',' icon="mdi:delete" @click="','">\n            </ha-icon-button>\n          </div>\n          <h4 class="underline">','</h4>\n          <ch-conditions-editor\n            .conditions="','"\n            @ch-conditions-changed="','"\n          >\n          </ch-conditions-editor>\n          <h4 class="underline">','</h4>\n          <ch-config-editor\n            exception\n            .defaultConfig="','"\n            .config="','"\n            @ch-config-changed="','"\n          >\n          </ch-config-editor>\n        </div>\n      </paper-card>\n    ']);return _templateObject18=function _templateObject18(){return t},t}function _templateObject17(){var t=$([""]);return _templateObject17=function _templateObject17(){return t},t}function _templateObject16(){var t=$(["\n      <style>\n        h3,\n        h4 {\n          font-size: 16pt;\n          margin-bottom: 5px;\n          width: 100%;\n        }\n        ha-switch {\n          padding-top: 16px;\n        }\n        ha-icon {\n          padding-right: 5px;\n        }\n        iron-input {\n          max-width: 115px;\n        }\n        .inherited {\n          opacity: 0.4;\n        }\n        .inherited:hover {\n          opacity: 1;\n        }\n        .side-by-side {\n          display: flex;\n          flex-wrap: wrap;\n        }\n        .side-by-side > * {\n          flex: 1;\n          padding-right: 4px;\n          flex-basis: 33%;\n        }\n        .buttons > div {\n          display: flex;\n          align-items: center;\n        }\n        .buttons > div paper-dropdown-menu {\n          flex-grow: 1;\n        }\n        .buttons > div ha-icon {\n          padding-right: 15px;\n          padding-top: 20px;\n          margin-left: -3px;\n        }\n        .buttons > div:nth-of-type(2n) ha-icon {\n          padding-left: 20px;\n        }\n        .warning {\n          background-color: #455a64;\n          padding: 10px;\n          color: #ffcd4c;\n          border-radius: 5px;\n        }\n        .alert {\n          color: #ff9800;\n          padding-right: 0;\n          margin-right: -5px;\n          padding-left: 7px;\n        }\n        [closed] {\n          overflow: hidden;\n          height: 52px;\n        }\n        paper-card {\n          margin-top: 10px;\n          width: 100%;\n          transition: all 0.5s ease;\n        }\n        .underline {\n          width: 100%;\n          background: var(--dark-color);\n          color: var(--text-dark-color);\n          padding: 5px;\n          width: calc(100% + 30px);\n          margin-left: calc(0% - 20px);\n        }\n      </style>\n    "]);return _templateObject16=function _templateObject16(){return t},t}function _templateObject15(){var t=$(['\n            <h4 class="underline">Main Config</h4>\n          ']);return _templateObject15=function _templateObject15(){return t},t}function _templateObject14(){var t=$(['\n                  <br />\n                  <div class="warning">\n                    <p style="padding: 5px; margin: 0;">\n                      ','\n                    </p>\n                    <p style="padding: 5px; margin: 0;">\n                      ','\n                    </p>\n                    <br />\n                    <p style="padding: 5px; margin: 0;">\n                      <ha-icon style="padding-right: 3px;" icon="mdi:alpha-t-box-outline"></ha-icon>\n                      ','\n                      <br /><ha-icon style="padding-right: 3px;" icon="mdi:alert-box-outline"></ha-icon> ','<br />\n                    </p>\n                    <br />\n                    <p style="padding: 5px; margin: 0;">\n                      ',"\n                    </p>\n                  </div>\n                "]);return _templateObject14=function _templateObject14(){return t},t}function _templateObject13(){var t=$(['\n            <h1 style="margin-top:-20px;margin-bottom:0;" class="underline">\n              Custom Header\n            </h1>\n            <h4 style="margin-top:-5px;padding-top:10px;font-size:12pt;" class="underline">\n              <a href="https://maykar.github.io/custom-header/" target="_blank">\n                <ha-icon icon="mdi:help-circle" style="margin-top:-5px;"> </ha-icon>\n                ','&nbsp;&nbsp;&nbsp;</a\n              >\n              <a href="https://github.com/maykar/custom-header" target="_blank">\n                <ha-icon icon="mdi:github-circle" style="margin-top:-5px;"> </ha-icon>\n                GitHub&nbsp;&nbsp;&nbsp;</a\n              >\n              <a href="https://community.home-assistant.io/t/custom-header/" target="_blank">\n                <ha-icon icon="hass:home-assistant" style="margin-top:-5px;"> </ha-icon>\n                ',"</a\n              >\n            </h4>\n            ","\n            ","\n          "]);return _templateObject13=function _templateObject13(){return t},t}function _templateObject12(){var t=$(['\n      <custom-style>\n        <style is="custom-style">\n          a {\n            color: var(--text-dark-color);\n            text-decoration: none;\n          }\n          .card-header {\n            margin-top: -5px;\n            @apply --paper-font-headline;\n          }\n          .card-header ha-icon-button {\n            margin-top: -5px;\n            float: right;\n          }\n        </style>\n      </custom-style>\n      ',"\n      ","\n      ",'\n      <div style="padding-bottom:20px;" class="side-by-side">\n        ',"\n        ","\n        ","\n        ","\n        ","\n        ","\n        ","\n        ","\n        ","\n        ","\n        ",'\n      </div>\n      <hr />\n      <div class="side-by-side">\n        <paper-input\n          style="padding: 10px 10px 0 10px;"\n          class="','"\n          label="','"\n          .value="','"\n          .configValue="','"\n          @value-changed="','"\n        >\n        </paper-input>\n        <paper-input\n          placeholder="','"\n          style="padding: 10px 10px 0 10px;"\n          class="','"\n          label="','"\n          .value="','"\n          .configValue="','"\n          @value-changed="','"\n        >\n        </paper-input>\n      </div>\n      <h4 class="underline">','</h4>\n      <div class="side-by-side">\n        ',"\n        ","\n        ","\n        ",'\n      </div>\n      <h4 class="underline">','</h4>\n      <div style="padding-bottom:20px;" class="side-by-side">\n        ',"\n        ","\n        ","\n        ","\n        ","\n        ",'\n      </div>\n      <h4 class="underline">','</h4>\n      <paper-dropdown-menu id="tabs" @value-changed="','">\n        <paper-listbox slot="dropdown-content" .selected="','">\n          <paper-item>',"</paper-item>\n          <paper-item>",'</paper-item>\n        </paper-listbox>\n      </paper-dropdown-menu>\n      <div class="side-by-side">\n        <div id="show" style="display:','">\n          <paper-input\n            class="','"\n            label="',':"\n            .value="','"\n            .configValue="','"\n            @value-changed="','"\n          >\n          </paper-input>\n        </div>\n        <div id="hide" style="display:','">\n          <paper-input\n            class="','"\n            label="',':"\n            .value="','"\n            .configValue="','"\n            @value-changed="','"\n          >\n          </paper-input>\n        </div>\n        <paper-input\n          class="','"\n          label="',"",':"\n          .value="','"\n          .configValue="','"\n          @value-changed="','"\n        >\n        </paper-input>\n        ',"\n      </div>\n    "]);return _templateObject12=function _templateObject12(){return t},t}function _templateObject11(){var t=$(['\n      <ha-switch\n        class="','"\n        ?checked="','"\n        .configValue="','"\n        @change="','"\n        title=',"\n        ?disabled=","\n      >\n        "," ","\n        ","\n      </ha-switch>\n    "]);return _templateObject11=function _templateObject11(){return t},t}function _templateObject10(){var t=$(['\n      <ha-icon icon="mdi:alert-box-outline" class="alert" title="','"></ha-icon>\n    ']);return _templateObject10=function _templateObject10(){return t},t}function _templateObject9(){var t=$(['\n      <ha-icon icon="mdi:alpha-t-box-outline" class="alert" title="','"></ha-icon>\n    ']);return _templateObject9=function _templateObject9(){return t},t}function _templateObject8(){var t=$(['\n      <mwc-button raised @click="','">',"</mwc-button>\n    "]);return _templateObject8=function _templateObject8(){return t},t}function _templateObject7(){var t=$(['\n      <mwc-button raised @click="','">',"</mwc-button>\n    "]);return _templateObject7=function _templateObject7(){return t},t}function _templateObject6(){var t=$(["\n      <style>\n        h3,\n        h4 {\n          font-size: 16pt;\n          margin-bottom: 5px;\n          width: 100%;\n        }\n        .toggle-button {\n          margin: 4px;\n          background-color: transparent;\n          color: var(--primary-color);\n        }\n        .title_control {\n          color: var(--text-dark-color);\n          font-weight: bold;\n          font-size: 22px;\n          float: right;\n          cursor: pointer;\n          margin: -10px -5px -5px -5px;\n        }\n        .user_agent {\n          display: block;\n          margin-left: auto;\n          margin-right: auto;\n          padding: 5px;\n          border: 0;\n          resize: none;\n          width: 100%;\n        }\n        .underline {\n          width: 100%;\n          background: var(--dark-color);\n          color: var(--text-dark-color);\n          padding: 5px;\n          width: calc(100% + 30px);\n          margin-left: calc(0% - 20px);\n        }\n      </style>\n    "]);return _templateObject6=function _templateObject6(){return t},t}function _createForOfIteratorHelper(t,o){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function _unsupportedIterableToArray(t,o){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,o);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,o)}(t))||o&&t&&"number"==typeof t.length){r&&(t=r);var i=0,a=function F(){};return{s:a,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,d=!1;return{s:function s(){r=t[Symbol.iterator]()},n:function n(){var t=r.next();return l=t.done,t},e:function e(t){d=!0,c=t},f:function f(){try{l||null==r.return||r.return()}finally{if(d)throw c}}}}function _arrayLikeToArray(t,o){(null==o||o>t.length)&&(o=t.length);for(var r=0,i=new Array(o);r<o;r++)i[r]=t[r];return i}function ownKeys$2(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);o&&(i=i.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,i)}return r}function _objectSpread$2(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?ownKeys$2(Object(r),!0).forEach((function(o){R(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$2(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}function _templateObject5(){var t=$(["\n              ","\n            "]);return _templateObject5=function _templateObject5(){return t},t}function _templateObject4(){var t=$(["\n              ","\n            "]);return _templateObject4=function _templateObject4(){return t},t}function _templateObject3(){var t=$(['\n              <ch-exception-editor\n                .config="','"\n                .exception="','"\n                .index="','"\n                @ch-exception-changed="','"\n                @ch-exception-delete="','"\n              >\n              </ch-exception-editor>\n            ']);return _templateObject3=function _templateObject3(){return t},t}function _templateObject2(){var t=$(['\n      <div @click="','" class="title_control">\n        X\n      </div>\n      ','\n      <ch-config-editor\n        .defaultConfig="','"\n        .config="','"\n        @ch-config-changed="','"\n      >\n      </ch-config-editor>\n      <h4 class="underline">',"</h4>\n      <br />\n      ",'\n      <br />\n      <mwc-button @click="','">','</mwc-button>\n      <h4 class="underline">',"</h4>\n      <br />\n      <b>Name:</b> ","<br />\n      <b>ID:</b> ",'\n      <h4 class="underline">Device ID</h4>\n      <br />\n      ','\n      <br />\n      <h4 class="underline">',"</h4>\n      <br />\n      ",'\n      <br />\n      <h4\n        style="background:var(--paper-card-background-color);\n          margin-bottom:-20px;"\n        class="underline"\n      >\n        ',"\n        ","\n      </h4>\n    "]);return _templateObject2=function _templateObject2(){return t},t}function _templateObject(){var t=$([""]);return _templateObject=function _templateObject(){return t},t}function _createSuper(t){var o=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var r,i=K(t);if(o){var a=K(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return B(this,r)}}var ye=function(t){U(CustomHeaderEditor,LitElement);var o=_createSuper(CustomHeaderEditor);function CustomHeaderEditor(){return T(this,CustomHeaderEditor),o.apply(this,arguments)}return A(CustomHeaderEditor,[{key:"firstUpdated",value:function firstUpdated(){this.defaultConfig=be(),this._lovelace=J(),this.hass=E().hass,this.deepcopy=this.deepcopy.bind(this),this._config=this._lovelace.config.custom_header?this.deepcopy(this._lovelace.config.custom_header):{}}},{key:"render",value:function render(){var t=this;return this._config&&this._lovelace?html(_templateObject2(),this._close,this.renderStyle(),this.defaultConfig,this._config,this._configChanged,localize("editor.exceptions"),this._config.exceptions?this._config.exceptions.map((function(o,r){return html(_templateObject3(),t._config,o,r,t._exceptionChanged,t._exceptionDelete)})):"",this._addException,localize("editor.add_exception"),localize("editor.current_user"),this.hass.user.name,this.hass.user.id,q,localize("editor.current_user_agent"),navigator.userAgent,this.exception?"":html(_templateObject4(),this._save_button),this.exception?"":html(_templateObject5(),this._cancel_button)):html(_templateObject())}},{key:"_close",value:function _close(){var t=this.parentNode.parentNode.parentNode.querySelector("editor");this.parentNode.parentNode.parentNode.removeChild(t)}},{key:"_save",value:function _save(){for(var t in this._config)this._config[t]==this.defaultConfig[t]&&delete this._config[t];var o=_objectSpread$2(_objectSpread$2({},this._lovelace.config),{custom_header:this._config});try{this._lovelace.saveConfig(o).then((function(){window.location.href=window.location.href}))}catch(t){alert("".concat(localize("editor.save_failed"),": ").concat(t))}}},{key:"_addException",value:function _addException(){var t;this._config.exceptions?(t=this._config.exceptions.slice(0)).push({conditions:{},config:{}}):t=[{conditions:{},config:{}}],this._config=_objectSpread$2(_objectSpread$2({},this._config),{},{exceptions:t}),j(this,"config-changed",{config:this._config})}},{key:"_configChanged",value:function _configChanged(t){var o=t.detail;this._config&&(this._config=_objectSpread$2(_objectSpread$2({},this._config),o.config),j(this,"config-changed",{config:this._config}))}},{key:"_exceptionChanged",value:function _exceptionChanged(t){if(this._config){var o=t.target.index,r=this._config.exceptions.slice(0);r[o]=t.detail.exception;var i,a=_createForOfIteratorHelper(r);try{for(a.s();!(i=a.n()).done;){var c=i.value;for(var l in c.config)this._config[l]==c.config[l]?delete c.config[l]:this._config[l]||this.defaultConfig[l]!=c.config[l]||delete c.config[l]}}catch(t){a.e(t)}finally{a.f()}this._config=_objectSpread$2(_objectSpread$2({},this._config),{},{exceptions:r}),j(this,"config-changed",{config:this._config})}}},{key:"_exceptionDelete",value:function _exceptionDelete(t){if(this._config){var o=t.target,r=this._config.exceptions.slice(0);r.splice(o.index,1),this._config=_objectSpread$2(_objectSpread$2({},this._config),{},{exceptions:r}),j(this,"config-changed",{config:this._config}),this.requestUpdate()}}},{key:"deepcopy",value:function deepcopy(t){var o=this;if(!t||"object"!=typeof t)return t;if("[object Date]"==Object.prototype.toString.call(t))return new Date(t.getTime());if(Array.isArray(t))return t.map(this.deepcopy);var r={};return Object.keys(t).forEach((function(i){r[i]=o.deepcopy(t[i])})),r}},{key:"renderStyle",value:function renderStyle(){return html(_templateObject6())}},{key:"_save_button",get:function get(){var t=localize("editor.save_and_reload");return html(_templateObject7(),this._save,t)}},{key:"_cancel_button",get:function get(){return html(_templateObject8(),this._close,localize("editor.cancel"))}}],[{key:"properties",get:function get(){return{_config:{}}}}]),CustomHeaderEditor}();customElements.define("custom-header-editor",ye);var ge=function(t){U(ChConfigEditor,LitElement);var o=_createSuper(ChConfigEditor);function ChConfigEditor(){var t;return T(this,ChConfigEditor),(t=o.call(this)).buttonOptions=["show","hide","clock","overflow"],t.overflowOptions=["show","hide","clock"],t.swipeAnimation=["none","swipe","fade","flip"],t}return A(ChConfigEditor,null,[{key:"properties",get:function get(){return{defaultConfig:{},config:{},exception:{},_closed:{}}}}]),A(ChConfigEditor,[{key:"getConfig",value:function getConfig(t){return void 0!==this.config[t]?this.config[t]:this.defaultConfig[t]}},{key:"templateExists",value:function templateExists(t){return!("string"!=typeof t||!t.includes("{{")&&!t.includes("{%"))}},{key:"haSwitch",value:function haSwitch(t,o,r,i,a,c){var l=html(_templateObject9(),localize("editor.disabled_template")),d=html(_templateObject10(),localize("editor.removes_edit_ui"));return html(_templateObject11(),this.exception&&void 0===this.config[t]?"inherited slotted":"slotted",!1!==this.getConfig(t)&&!this.templateExists(this.getConfig(t)),t,this._valueChanged,a,this.templateExists(this.getConfig(t)),i,this.templateExists(this.getConfig(t))&&o?l:"",r?d:"")}},{key:"render",value:function render(){return this.exception=void 0!==this.exception&&!1!==this.exception,html(_templateObject12(),this.exception?"":html(_templateObject13(),localize("links.docs"),localize("links.forums"),this.getConfig("editor_warnings")?html(_templateObject14(),localize("editor.warning_disable_ch"),localize("editor.warning_raw_editor_reload"),localize("editor.warning_already_a_template"),localize("editor.warning_edit_ui"),localize("editor.warning_jinja_info")):"",!this.exception&&this.getConfig("editor_warnings")?this.haSwitch("editor_warnings",!1,!1,localize("editor.editor_warnings_title"),localize("editor.editor_warnings_tip")):""),this.renderStyle(),this.getConfig("editor_warnings")&&!this.exception?html(_templateObject15()):"",this.haSwitch("disabled_mode",!0,!1,localize("editor.disabled_mode_title"),localize("editor.disabled_mode_tip")),this.haSwitch("footer_mode",!0,!1,localize("editor.footer_mode_title"),localize("editor.footer_mode_tip")),this.haSwitch("compact_mode",!0,!1,localize("editor.compact_mode_title"),localize("editor.compact_mode_tip")),this.haSwitch("split_mode",!0,!1,localize("editor.split_mode_title"),localize("editor.split_mode_tip")),this.haSwitch("kiosk_mode",!0,!0,localize("editor.kiosk_mode_title"),localize("editor.kiosk_mode_tip")),this.haSwitch("disable_sidebar",!0,!1,localize("editor.disable_sidebar_title"),localize("editor.disable_sidebar_tip")),this.haSwitch("hide_header",!0,!1,localize("editor.hide_header_title"),localize("editor.hide_header_tip")),this.haSwitch("chevrons",!0,!1,localize("editor.chevrons_title"),localize("editor.chevrons_tip")),this.haSwitch("hidden_tab_redirect",!0,!1,localize("editor.hidden_tab_redirect_title"),localize("editor.hidden_tab_redirect_tip")),this.haSwitch("shadow",!0,!1,localize("editor.shadow_title"),localize("editor.shadow_tip")),this.exception||this.getConfig("editor_warnings")?"":this.haSwitch("editor_warnings",!1,!1,localize("editor.editor_warnings_second_title"),localize("editor.editor_warnings_tip")),this.exception&&void 0===this.config.header_text?"inherited slotted":"slotted",localize("editor.header_text"),this.getConfig("header_text"),"header_text",this._valueChanged,localize("editor.automatic"),this.exception&&void 0===this.config.locale?"inherited slotted":"slotted",localize("editor.locale_desc"),this.getConfig("locale"),"locale",this._valueChanged,localize("editor.menu_items"),this.haSwitch("hide_config",!0,!0,localize("editor.hide_configure_ui_title"),localize("editor.hide_configure_ui_tip")),this.haSwitch("hide_raw",!0,!0,localize("editor.hide_raw_editor_title"),localize("editor.hide_raw_editor_tip")),this.haSwitch("hide_help",!0,!1,localize("editor.hide_help_title"),localize("editor.hide_help_tip")),this.haSwitch("hide_unused",!0,!1,localize("editor.hide_unused_title"),localize("editor.hide_unused_tip")),localize("editor.buttons"),this.haSwitch("menu_hide",!0,!1,localize("editor.menu_hide_title"),localize("editor.menu_hide_tip")),this.haSwitch("menu_dropdown",!0,!1,localize("editor.menu_dropdown_title"),localize("editor.menu_dropdown_tip")),this.haSwitch("voice_hide",!0,!1,localize("editor.voice_hide_title"),localize("editor.voice_hide_tip")),this.haSwitch("voice_dropdown",!0,!1,localize("editor.voice_dropdown_title"),localize("editor.voice_dropdown_tip")),this.haSwitch("options_hide",!0,!0,localize("editor.options_hide_title"),localize("editor.options_hide_tip")),this.haSwitch("reverse_button_direction",!0,!1,localize("editor.reverse_button_title"),localize("editor.reverse_button_tip")),localize("editor.tabs"),this._tabVisibility,this.getConfig("show_tabs").length>0?"1":"0",localize("editor.tabs_hide"),localize("editor.tabs_show"),this.getConfig("show_tabs").length>0?"initial":"none",this.exception&&void 0===this.config.show_tabs?"inherited slotted":"slotted",localize("editor.show_tab_list"),this.getConfig("show_tabs"),"show_tabs",this._valueChanged,this.getConfig("show_tabs").length>0?"none":"initial",this.exception&&void 0===this.config.hide_tabs?"inherited slotted":"slotted",localize("editor.hide_tab_list"),this.getConfig("hide_tabs"),"hide_tabs",this._valueChanged,this.exception&&void 0===this.config.default_tab?"inherited slotted":"slotted",localize("editor.default_tab"),this.exception?' (use "null" to override default)':"",this.getConfig("default_tab"),"default_tab",this._valueChanged,this.haSwitch("reverse_tab_direction",!0,!1,localize("editor.reverse_tab_title"),localize("editor.reverse_tab_tip")))}},{key:"_toggleCard",value:function _toggleCard(){this._closed=!this._closed,j(this,"iron-resize")}},{key:"_tabVisibility",value:function _tabVisibility(){var t=this.shadowRoot.querySelector("#show"),o=this.shadowRoot.querySelector("#hide");"Hide Tabs"==this.shadowRoot.querySelector("#tabs").value?(t.style.display="none",o.style.display="initial"):(o.style.display="none",t.style.display="initial")}},{key:"_valueChanged",value:function _valueChanged(t){this.config&&(t.target.configValue&&(""===t.target.value?delete this.config[t.target.configValue]:this.config=_objectSpread$2(_objectSpread$2({},this.config),{},{[t.target.configValue]:void 0!==t.target.checked?t.target.checked:t.target.value})),j(this,"ch-config-changed",{config:this.config}))}},{key:"renderStyle",value:function renderStyle(){return html(_templateObject16())}},{key:"_clock",get:function get(){return"clock"==this.getConfig("menu")||"clock"==this.getConfig("voice")||"clock"==this.getConfig("options")}}]),ChConfigEditor}();customElements.define("ch-config-editor",ge);var ve=function(t){U(ChExceptionEditor,LitElement);var o=_createSuper(ChExceptionEditor);function ChExceptionEditor(){var t;return T(this,ChExceptionEditor),(t=o.call(this))._closed=!0,t}return A(ChExceptionEditor,null,[{key:"properties",get:function get(){return{config:{},exception:{},_closed:{}}}}]),A(ChExceptionEditor,[{key:"render",value:function render(){return this.exception?html(_templateObject18(),this.renderStyle(),this._closed,Object.values(this.exception.conditions).join(", ").substring(0,40)||"New Exception",this._closed?"mdi:chevron-down":"mdi:chevron-up",this._toggleCard,this._closed,this._deleteException,localize("editor.conditions"),this.exception.conditions,this._conditionsChanged,localize("editor.config"),_objectSpread$2(_objectSpread$2({},this.defaultConfig),this.config),this.exception.config,this._configChanged):html(_templateObject17())}},{key:"renderStyle",value:function renderStyle(){return html(_templateObject19())}},{key:"_toggleCard",value:function _toggleCard(){this._closed=!this._closed,j(this,"iron-resize")}},{key:"_deleteException",value:function _deleteException(){j(this,"ch-exception-delete")}},{key:"_conditionsChanged",value:function _conditionsChanged(t){var o=t.detail;if(this.exception){var r=_objectSpread$2(_objectSpread$2({},this.exception),{},{conditions:o.conditions});j(this,"ch-exception-changed",{exception:r})}}},{key:"_configChanged",value:function _configChanged(t){if(t.stopPropagation(),this.exception){var o=_objectSpread$2(_objectSpread$2({},this.exception),{},{config:t.detail.config});j(this,"ch-exception-changed",{exception:o})}}}]),ChExceptionEditor}();customElements.define("ch-exception-editor",ve);var we=function(t){U(ChConditionsEditor,LitElement);var o=_createSuper(ChConditionsEditor);function ChConditionsEditor(){return T(this,ChConditionsEditor),o.apply(this,arguments)}return A(ChConditionsEditor,[{key:"render",value:function render(){return this.conditions?html(_templateObject21(),localize("editor.user_list"),this._user,"user",this._valueChanged,localize("editor.user_agent"),this._user_agent,"user_agent",this._valueChanged,localize("editor.media_query"),this._media_query,"media_query",this._valueChanged,localize("editor.query_string"),this._query_string,"query_string",this._valueChanged,localize("editor.template"),this._template,"template",this._valueChanged,localize("editor.tabs"),this._tab,"tab",this._valueChanged,this._device_id,"device_id",this._valueChanged):html(_templateObject20())}},{key:"_valueChanged",value:function _valueChanged(t){if(this.conditions){var o=t.target;this["_".concat(o.configValue)]!==o.value&&(o.configValue&&(""===o.value?delete this.conditions[o.configValue]:this.conditions=_objectSpread$2(_objectSpread$2({},this.conditions),{},{[o.configValue]:o.value})),j(this,"ch-conditions-changed",{conditions:this.conditions}))}}},{key:"_user",get:function get(){return this.conditions.user||""}},{key:"_user_agent",get:function get(){return this.conditions.user_agent||""}},{key:"_media_query",get:function get(){return this.conditions.media_query||""}},{key:"_query_string",get:function get(){return this.conditions.query_string||""}},{key:"_template",get:function get(){return this.conditions.template||""}},{key:"_tab",get:function get(){return this.conditions.tab||""}},{key:"_device_id",get:function get(){return this.conditions.device_id||""}}],[{key:"properties",get:function get(){return{conditions:{}}}}]),ChConditionsEditor}();customElements.define("ch-conditions-editor",we);var Se=function hideMenuItems(t,o,r,i){var a=function localized(t,o){var r,i=document.querySelector("home-assistant").hass;return r="raw_editor"===o?i.localize("ui.panel.lovelace.editor.menu.raw_editor"):"unused_entities"==o?i.localize("ui.panel.lovelace.unused_entities.title"):i.localize("ui.panel.lovelace.menu.".concat(o))||o,t.innerHTML.includes(r)||t.getAttribute("aria-label")==r};(r?i.options:o.options).querySelector("paper-listbox").querySelectorAll("paper-item").forEach((function(o){t.hide_help&&a(o,"help")||t.hide_unused&&a(o,"unused_entities")||t.hide_refresh&&a(o,"refresh")||t.hide_config&&a(o,"configure_ui")||t.hide_raw&&a(o,"raw_editor")||t.hide_reload_resources&&a(o,"Reload resources")?o.style.display="none":o.style.display=""}))},xe=function buttonToOverflow(t,o,r,i){r.options.querySelector("#".concat(t.toLowerCase(),"_dropdown"))&&r.options.querySelector("#".concat(t.toLowerCase(),"_dropdown")).remove();var a=document.createElement("paper-item"),c=document.createElement("ha-icon");a.setAttribute("id","".concat(t.toLowerCase(),"_dropdown")),c.setAttribute("icon",i.button_icons[t.toLowerCase()]||o),c.style.pointerEvents="none",i.reverse_button_direction?c.style.marginLeft="auto":c.style.marginRight="auto",a.innerText=t,a.appendChild(c),a.addEventListener("click",(function(){r[t.toLowerCase()].dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!1}))})),c.addEventListener("click",(function(){r[t.toLowerCase()].dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!1}))})),a.setAttribute("onClick"," "),c.setAttribute("onClick"," "),r.options.querySelector("paper-listbox").appendChild(a)},Ce=function insertSettings(t,o,r){function insertAfter(t,o){o.parentNode.insertBefore(t,o.nextSibling)}if("storage"===r.lovelace.mode&&!o.hide_ch_settings){t.options.querySelector("paper-listbox").querySelector("#ch_settings")&&t.options.querySelector("paper-listbox").querySelector("#ch_settings").remove();var i=document.createElement("paper-item");i.setAttribute("id","ch_settings"),i.addEventListener("click",(function(){return function showEditor(t){if(window.scrollTo(0,0),!t.root.querySelector("ha-app-layout editor")){var o=document.createElement("editor"),r=document.createElement("div");r.style.cssText="\n      padding: 20px;\n      max-width: 600px;\n      margin: 15px auto;\n      background: var(--paper-card-background-color);\n      border: 6px solid var(--paper-card-background-color);\n    ",o.style.cssText="\n      width: 100%;\n      min-height: 100%;\n      box-sizing: border-box;\n      position: absolute;\n      background: var(--background-color, grey);\n      z-index: 101;\n      padding: 5px;\n    ",t.root.querySelector("ha-app-layout").insertBefore(o,t.root.querySelector("#view")),o.appendChild(r),r.appendChild(document.createElement("custom-header-editor"))}}(r)})),i.setAttribute("onClick"," "),i.innerHTML="Custom Header";var a=t.options.querySelector("paper-listbox").querySelectorAll("paper-item"),c=r.options.querySelector("paper-listbox").querySelectorAll("paper-item");t.options.querySelector("paper-listbox").querySelector("#ch_settings")||insertAfter(i,a[a.length-1]),r.options.querySelector("paper-listbox").querySelector("#ch_settings")||insertAfter(i,c[c.length-1])}},ke=function kioskMode(t,o,r,i){if(!window.location.href.includes("disable_ch")&&!window.customHeaderDisabled){var a=document.createElement("style");a.setAttribute("id","ch_header_style"),r||(a.innerHTML+="\n        #drawer {\n          display: none;\n        }\n      "),o||(a.innerHTML+="\n        ch-header {\n          display: none;\n        }\n        ch-footer {\n          display: none;\n        }\n        app-header {\n          display: none;\n        }\n        hui-view {\n          padding-top: 100px;\n        }\n        hui-view, hui-panel-view {\n          min-height: calc(100vh + 96px);\n          margin-top: -96px;\n        }\n      ");var c=t.root.querySelector("#ch_header_style");c&&c.innerText==a.innerHTML||(t.root.appendChild(a),c&&c.remove()),i.hide_tabs&&i.hide_tabs.forEach((function(t){a.innerHTML+="\n        paper-tab:nth-child(".concat(N(t)+1,") {\n          display: none;\n        }\n      ")})),r||(t.drawer.style.display="none",t.sidebar.main.querySelector("#ch_sidebar_style")||((a=document.createElement("style")).setAttribute("id","ch_sidebar_style"),a.innerHTML=":host(:not([expanded])) {width: 0px !important;}",t.sidebar.main.appendChild(a)),t.main.querySelector("#ch_sidebar_style")||((a=document.createElement("style")).setAttribute("id","ch_sidebar_style"),a.innerHTML=":host {--app-drawer-width: 0px !important;}",t.main.appendChild(a))),window.dispatchEvent(new Event("resize"))}},Oe=function removeKioskMode(t){t.drawer.style.display="";var o=t.main.querySelector("#ch_sidebar_style");o&&o.remove(),(o=t.sidebar.main.querySelector("#ch_sidebar_style"))&&o.remove(),t.drawer.style.display=""};function _createForOfIteratorHelper$1(t,o){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function _unsupportedIterableToArray$1(t,o){if(!t)return;if("string"==typeof t)return _arrayLikeToArray$1(t,o);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$1(t,o)}(t))||o&&t&&"number"==typeof t.length){r&&(t=r);var i=0,a=function F(){};return{s:a,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,d=!1;return{s:function s(){r=t[Symbol.iterator]()},n:function n(){var t=r.next();return l=t.done,t},e:function e(t){d=!0,c=t},f:function f(){try{l||null==r.return||r.return()}finally{if(d)throw c}}}}function _arrayLikeToArray$1(t,o){(null==o||o>t.length)&&(o=t.length);for(var r=0,i=new Array(o);r<o;r++)i[r]=t[r];return i}var je=function menuButtonObservers(t,o,r){if(!t.menu_hide){var i=r.menu.shadowRoot.querySelector("mwc-icon-button"),a=function buildDot(){var o=document.createElement("div");return o.className="dot",o.style.cssText="\n        pointer-events: none;\n        position: relative;\n        background-color: ".concat(t.notification_dot_color,";\n        width: 12px;\n        height: 12px;\n        top: ").concat(i?"-35px;":"-28px;","\n        right: ").concat(t.reverse_button_direction?"":"-").concat(i?"27px;":"16px;","\n        border-radius: 50%;\n    "),o},c=function menuButtonVisibility(){t.disable_sidebar||window.customHeaderDisabled||t.menu_dropdown||t.menu_hide||("hidden"===r.menu.style.visibility?(o.header.menu.style.display="none",o.footer.tabContainer.style.margin="0 10px"):(o.header.menu.style.display="initial",o.footer.tabContainer.style.margin="0"))};if(window.customHeaderMenuObservers){var l,d=_createForOfIteratorHelper$1(window.customHeaderMenuObservers);try{for(d.s();!(l=d.n()).done;){l.value.disconnect()}}catch(t){d.e(t)}finally{d.f()}window.customHeaderMenuObservers=[]}var u=new MutationObserver((function notificationDot(o){var r=document.querySelector("home-assistant").shadowRoot.querySelector("home-assistant-main").shadowRoot.querySelector("ha-panel-lovelace").shadowRoot.querySelector("hui-root");o.forEach((function(o){var i=o.addedNodes,c=o.removedNodes;if(i){var l,d=_createForOfIteratorHelper$1(i);try{for(d.s();!(l=d.n()).done;){"dot"!==l.value.className||r.shadowRoot.querySelector('[buttonElem="menu"]').shadowRoot.querySelector(".dot")||(r.shadowRoot.querySelector('[buttonElem="menu"]').shadowRoot.appendChild(a()),r.shadowRoot.querySelector('[buttonElem="menu"]').shadowRoot.querySelector(".buttonText")&&(r.shadowRoot.querySelector('[buttonElem="menu"]').shadowRoot.querySelector(".dot").style.display="none",r.shadowRoot.querySelector('[buttonElem="menu"]').shadowRoot.querySelector(".buttonText").style.borderBottom="3px solid ".concat(t.notification_dot_color)))}}catch(t){d.e(t)}finally{d.f()}}if(c){var u,h=_createForOfIteratorHelper$1(c);try{for(h.s();!(u=h.n()).done;){"dot"===u.value.className&&r.shadowRoot.querySelector('[buttonElem="menu"]').shadowRoot.querySelector(".dot")&&(r.shadowRoot.querySelector('[buttonElem="menu"]').shadowRoot.querySelector(".dot").remove(),r.shadowRoot.querySelector('[buttonElem="menu"]').shadowRoot.querySelector(".buttonText")&&(r.shadowRoot.querySelector('[buttonElem="menu"]').shadowRoot.querySelector(".buttonText").style.borderBottom=""))}}catch(t){h.e(t)}finally{h.f()}}}))}));u.observe(r.menu.shadowRoot,{childList:!0});var h=new MutationObserver(c);h.observe(r.menu,{attributes:!0,attributeFilter:["style"]}),window.customHeaderMenuObservers=[u,h],c();var p=o.header.menu.shadowRoot.querySelector(".dot");p&&p.style.cssText!=a().style.cssText&&(p.remove(),t.button_text.menu&&(header.menu.shadowRoot.querySelector(".buttonText").style.textDecoration="")),!o.header.menu.shadowRoot.querySelector(".dot")&&r.menu.shadowRoot.querySelector(".dot")&&(o.header.menu.shadowRoot.appendChild(a()),t.button_text.menu&&(o.header.menu.shadowRoot.querySelector(".dot").style.display="none",o.header.menu.shadowRoot.querySelector(".buttonText").style.borderBottom="3px solid ".concat(t.notification_dot_color)))}},Ee=function insertStyleTags(t,o,r){var i=48,a=t.split_mode?o.footer:o.header;t.compact_mode||(t.reverse_button_direction?(o.header.container.querySelector("#ch-content-container").dir="ltr",o.header.container.querySelector("#ch-content-container").style.textAlign="right"):(o.header.container.querySelector("#ch-content-container").style.textAlign="",o.header.container.querySelector("#ch-content-container").dir=""),o.header.container.querySelector("#ch-content-container").innerHTML=t.header_text,i=a.tabs.length?96:48);var c=document.createElement("style");c.setAttribute("id","ch_header_style"),c.innerHTML="\n      ch-header {\n        z-index: 100;\n        padding-left: 10px;\n        padding-right: 10px;\n        box-sizing: border-box;\n        display:flex;\n        justify-content: center;\n        font: 400 20px Roboto, sans-serif;\n        background: ".concat(t.background||"var(--primary-color)",";\n        color: ").concat(t.elements_color||"var(--text-primary-color)",";\n        margin-bottom: 0px;\n        position: sticky;\n        position: -webkit-sticky;\n        ").concat(t.footer_mode?"bottom: 0px;":"top: 0px;","\n        ").concat(t.header_css?t.header_css:"","\n        transition: box-shadow 0.3s ease-in-out;\n        ").concat(t.shadow&&t.split_mode?"box-shadow: 0px 0px 5px 5px rgba(0,0,0,0.2)":"","\n        ").concat(t.footer_mode?"margin-top:48px;margin-bottom:-48px;padding-bottom:4px;":"","\n      }\n      ch-footer {\n        z-index: 99;\n        padding-left: 3px;\n        padding-right: 3px;\n        box-sizing: border-box;\n        display:flex;\n        justify-content: center;\n        font: 400 20px Roboto, sans-serif;\n        background: ").concat(t.background||"var(--primary-color)",";\n        color: ").concat(t.elements_color||"var(--text-primary-color)",";\n        margin-bottom: 0px;\n        margin-top: 0px;\n        position: sticky;\n        position: -webkit-sticky;\n        ").concat(t.footer_mode&&t.split_mode?"top: 0px;":"bottom: 0px;","\n        ").concat(t.footer_mode?"bottom: 48px;":"","\n        ").concat(t.header_css?t.header_css:"","\n        ").concat(t.shadow&&t.split_mode?"box-shadow: 0px 0px 5px 5px rgba(0,0,0,0.2)":"","\n        transition: box-shadow 0.3s ease-in-out;\n        ").concat(t.shadow&&(t.footer_mode||t.split_mode)?"box-shadow: 0px 0px 5px 5px rgba(0,0,0,0.2)":"","\n      }\n      ch-stack {\n        flex-direction: column;\n        width: 100%;\n        margin-left: 9px;\n        margin-right: 9px;\n        ").concat(t.stack_css?t.stack_css:"","\n      }\n\n      #ch-content-container {\n        ").concat(t.compact_mode?"display: none;":"","\n        ").concat(t.header_text.includes("<br>")?"\n          font-size: 17px;\n          line-height: 1.2;\n          margin: -9px 0px 0px;\n        ":"","\n        ").concat(t.header_text_css?t.header_text_css:"","\n        ").concat(t.menu_dropdown||t.disable_sidebar||t.hide_menu?"padding: 12px 0px;":"padding: 12px 6px;","\n      }\n      app-header {\n        display: none;\n      }\n      paper-tab.iron-selected {\n        ").concat(t.active_tab_color?"color: ".concat(t.active_tab_color,";"):"","\n        ").concat(t.active_tab_css?t.active_tab_css:"",'\n      }\n      [buttonElem="menu"] {\n        ').concat(t.menu_color?"color: ".concat(t.menu_color,";"):"","\n        ").concat(t.menu_hide?"display: none;":"","\n        ").concat(t.menu_css?t.menu_css:"","\n        ").concat(t.footer_mode&&t.compact_mode?"margin-top:0 !important;":"",'\n      }\n      [buttonElem="options"] {\n        ').concat(t.options_color?"color: ".concat(t.options_color,";"):"","\n        ").concat(t.options_hide?"display: none;":"","\n        ").concat(t.options_css?t.options_css:"","\n        ").concat(t.footer_mode&&t.compact_mode?"margin-top:0 !important;":"",'\n      }\n      [buttonElem="voice"] {\n        ').concat(t.voice_color?"color: ".concat(t.voice_color,";"):"","\n        ").concat(t.voice_hide?"display: none;":"","\n        ").concat(t.voice_css?t.voice_css:"","\n        ").concat(t.footer_mode&&t.compact_mode?"margin-top:0 !important;":"","\n      }\n      paper-tab {\n        ").concat(t.all_tabs_color?"color: ".concat(t.all_tabs_color,";"):"","\n        ").concat(t.all_tabs_css?t.all_tabs_css:"","\n      }\n      paper-tabs {\n        padding: 0 4px;\n        ").concat(t.tab_indicator_color?"--paper-tabs-selection-bar-color: ".concat(t.tab_indicator_color," !important;"):"","\n        ").concat(t.tab_container_css?t.tab_container_css:"","\n      }\n    "),t.tabs_color&&Object.keys(t.tabs_color).forEach((function(o){c.innerHTML+="\n        paper-tab:nth-child(".concat(N(o)+1,") {\n          color: ").concat(t.tabs_color[o],";\n        }\n      ")})),t.hide_tabs&&t.hide_tabs.forEach((function(t){c.innerHTML+="\n        paper-tab:nth-child(".concat(N(t)+1,") {\n          display: none;\n        }\n      ")})),t.tabs_css&&Object.keys(t.tabs_css).forEach((function(o){c.innerHTML+="\n        paper-tab:nth-child(".concat(N(o)+1,") {\n          ").concat(t.tabs_css[o],";\n        }\n      ")}));var l=r.root.querySelector("#ch_header_style");l&&c.innerHTML==l.innerHTML||(r.root.appendChild(c),l&&l.remove()),(c=document.createElement("style")).setAttribute("id","ch_view_style"),c.innerHTML="\n        hui-view, hui-panel-view {\n          margin-top: -96px;\n          ".concat(t.compact_mode?"min-height: calc(100vh - 96px);":"min-height: calc(100vh - 112px);","\n          ").concat(t.footer_mode&&!t.split_mode?"padding-bottom: ".concat(i,"px;"):"","\n          ").concat(t.footer_mode&&!t.split_mode?"margin-bottom: -".concat(i+4,"px;"):"","\n          ").concat(t.split_mode?"padding-bottom: 48px;":"","\n          ").concat(t.split_mode&&t.footer_mode?"margin-bottom: -4px;":"","\n        }\n        hui-panel-view {\n          padding-top: 96px;\n          ").concat(t.panel_view_css?t.panel_view_css:"","\n          ").concat(t.kiosk_mode||t.hide_header?"min-height: 100vh !important; margin-bottom: 0 !important;":"","\n        }\n        hui-view {\n          padding-top: 100px;\n          ").concat(t.view_css?t.view_css:"","\n        }\n        #view {\n          min-height: calc(100vh - 96px) !important;\n          ").concat(t.footer_mode&&!t.split_mode?"min-height: calc(100vh - ".concat(i,"px) !important;"):"","\n          ").concat(t.compact_mode&&!t.footer_mode?"min-height: calc(100vh - ".concat(i,"px) !important;"):"","\n          ").concat(t.split_mode?"min-height: calc(100vh - 48px) !important; margin-bottom: -48px;":"","\n          ").concat(t.split_mode&&t.footer_mode?"min-height: calc(100vh - 52px) !important; margin-bottom: -48px;":"","\n          ").concat(t.kiosk_mode||t.hide_header?"min-height: 100vh !important;":"","\n          ").concat(t.footer_mode?"min-height: calc(100vh - 100px) !important;":"","\n\n        }\n        #view.tabs-hidden {\n          min-height: calc(100vh - 48px) !important;\n        }\n      "),(l=r.root.querySelector("#ch_view_style"))&&c.innerHTML==l.innerHTML||(r.root.appendChild(c),l&&l.remove()),(c=document.createElement("style")).setAttribute("id","ch_chevron"),c.innerHTML='\n      .not-visible[icon*="chevron"] {\n        display:none;\n      }\n    ',l=a.tabContainer.shadowRoot.querySelector("#ch_chevron"),a.tabContainer.shadowRoot.appendChild(c),l&&l.remove(),l=o.footer.tabContainer.shadowRoot.querySelector("#ch_chevron"),o.footer.tabContainer.shadowRoot.appendChild(c.cloneNode(!0)),l&&l.remove()};function _createForOfIteratorHelper$2(t,o){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function _unsupportedIterableToArray$2(t,o){if(!t)return;if("string"==typeof t)return _arrayLikeToArray$2(t,o);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$2(t,o)}(t))||o&&t&&"number"==typeof t.length){r&&(t=r);var i=0,a=function F(){};return{s:a,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,d=!1;return{s:function s(){r=t[Symbol.iterator]()},n:function n(){var t=r.next();return l=t.done,t},e:function e(t){d=!0,c=t},f:function f(){try{l||null==r.return||r.return()}finally{if(d)throw c}}}}function _arrayLikeToArray$2(t,o){(null==o||o>t.length)&&(o=t.length);for(var r=0,i=new Array(o);r<o;r++)i[r]=t[r];return i}var qe=function redirects(t,o){if(!window.customHeaderDisabled){var r=E();if(r){var i=t.compact_mode?o.header:o.footer,a=r.sidebar.listbox.querySelector('[data-panel="lovelace"]');if(a)if(t.hide_tabs.includes(0)&&!t.default_tab){var c,l=_createForOfIteratorHelper$2(i.tabs);try{for(l.s();!(c=l.n()).done;){var d=c.value;if("none"!=getComputedStyle(d).display){a.setAttribute("href","/lovelace/".concat(i.tabContainer.indexOf(d)));break}}}catch(t){l.e(t)}finally{l.f()}}else t.default_tab&&a.setAttribute("href","/lovelace/".concat(N(t.default_tab)));var u=null!=t.default_tab?N(t.default_tab):null;if(t.hidden_tab_redirect&&r.tabs.length){var h=r.tabContainer.indexOf(r.tabContainer.querySelector("paper-tab.iron-selected"));if(t.hide_tabs.includes(h)&&t.hide_tabs.length!=r.tabs.length)if(u&&!t.hide_tabs.includes(N(u)))"none"!=getComputedStyle(i.tabs[u]).display&&(r.tabs[u].dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!1})),a&&a.setAttribute("href","/lovelace/".concat(u)));else{var p,m=_createForOfIteratorHelper$2(i.tabs);try{for(m.s();!(p=m.n()).done;){var _=p.value;if("none"!=getComputedStyle(_).display){_.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!1})),a&&a.setAttribute("href","/lovelace/".concat(i.tabContainer.indexOf(_)));break}}}catch(t){m.e(t)}finally{m.f()}}}(!t.default_tab_on_refresh&&window.performance?0==performance.navigation.type:!(t.default_tab_on_refresh||!performance.getEntriesByType("navigation"))&&"reload"==performance.getEntriesByType("navigation")[0].type)||null==u||window.customHeaderDefaultClicked||!r.tabs[u]||(r.tabs[u].dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!1})),window.customHeaderDefaultClicked=!0)}}};function _createForOfIteratorHelper$3(t,o){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function _unsupportedIterableToArray$3(t,o){if(!t)return;if("string"==typeof t)return _arrayLikeToArray$3(t,o);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$3(t,o)}(t))||o&&t&&"number"==typeof t.length){r&&(t=r);var i=0,a=function F(){};return{s:a,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,d=!1;return{s:function s(){r=t[Symbol.iterator]()},n:function n(){var t=r.next();return l=t.done,t},e:function e(t){d=!0,c=t},f:function f(){try{l||null==r.return||r.return()}finally{if(d)throw c}}}}function _arrayLikeToArray$3(t,o){(null==o||o>t.length)&&(o=t.length);for(var r=0,i=new Array(o);r<o;r++)i[r]=t[r];return i}var Te=function selectTab(t,o){var r=t.compact_mode||t.button_scroll?o.header:o.footer,i=J();if(i){var a=i.current_view;if(r.tabContainer.setAttribute("selected",a),r.tabs[a]){var c=r.tabs[a].getBoundingClientRect(),l=r.tabContainer.shadowRoot.querySelector("#tabsContainer").getBoundingClientRect();(l.right<c.right||l.left>c.left)&&(r.tabContainer._scrollToLeft(),r.tabContainer._scrollToRight(),r.tabs[a].dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!1})));var d,u=_createForOfIteratorHelper$3(r.tabs);try{for(u.s();!(d=u.n()).done;){var h=d.value;h!=r.tabs[a]&&h.classList.remove("iron-selected")}}catch(t){u.e(t)}finally{u.f()}}}},Ae=function observers(t,o,r){var i=function callback(i){var a=t.split_mode?o.footer:o.header;i.forEach((function(c){var l=c.addedNodes,d=c.target;if(i.length&&"HTML"==i[0].target.nodeName&&(Pe.buildConfig(o),i=[]),"view"==d.id&&l.length&&a.tabs.length)"edit-mode"!=r.root.querySelector("app-toolbar").className&&(qe(t,o),Te(t,o),Pe.buildConfig(o));else if(l.length&&"PARTIAL-PANEL-RESOLVER"==d.nodeName)r.main.querySelector("ha-panel-lovelace")?t.compact_mode&&!t.footer_mode?(r.sidebar.main.querySelector(".menu").style="height:49px;",r.sidebar.main.querySelector("paper-listbox").style="height:calc(100% - 175px);",r.sidebar.main.querySelector("div.divider").style=""):t.footer_mode&&!t.split_mode?(r.sidebar.main.querySelector(".menu").style="",r.sidebar.main.querySelector("paper-listbox").style="height: calc(100% - 170px);",r.sidebar.main.querySelector("div.divider").style="margin-bottom: -10px;"):t.split_mode&&(r.sidebar.main.querySelector(".menu").style="height:49px;",r.sidebar.main.querySelector("paper-listbox").style="height: calc(100% - 170px);",r.sidebar.main.querySelector("div.divider").style="margin-bottom: -3px;"):(r.sidebar.main.querySelector(".menu").style="",r.sidebar.main.querySelector("paper-listbox").style="",r.sidebar.main.querySelector("div.divider").style=""),r.root.querySelector("editor")&&r.root.querySelector("editor").remove();else if("edit-mode"===d.className&&l.length)r.root.querySelector("editor")&&r.root.querySelector("editor").remove(),window.customHeaderDisabled||Se(t,o.header,!0,r),r.appHeader.style.display="",r.root.querySelector("ch-header")&&r.root.querySelector("ch-header").remove(),r.root.querySelector("ch-footer")&&r.root.querySelector("ch-footer").remove(),r.root.querySelector("#ch_view_style")&&r.root.querySelector("#ch_view_style").remove(),r.root.querySelector("#ch_header_style")&&r.root.querySelector("#ch_header_style").remove(),r.root.querySelector("#ch_animated")&&r.root.querySelector("#ch_animated").remove(),window.dispatchEvent(new Event("resize"));else if("APP-HEADER"===d.nodeName&&l.length){var u;!function wait(){document.querySelector("home-assistant").shadowRoot.querySelector("home-assistant-main").shadowRoot.querySelector("ha-panel-lovelace").shadowRoot.querySelector("hui-root").shadowRoot.querySelector("ha-menu-button, paper-menu-button").shadowRoot.querySelector("mwc-icon-button, paper-icon-button")?(clearTimeout(u),rebuild()):u=window.setTimeout((function(){wait()}),200)}()}}))},a=new MutationObserver(i),c=new MutationObserver(i),l=new MutationObserver(i),d=new MutationObserver(i);window.customHeaderObservers&&window.customHeaderObservers.length||(a.observe(r.partialPanel,{childList:!0}),c.observe(r.appHeader,{childList:!0}),l.observe(r.root.querySelector("#view"),{childList:!0}),d.observe(document.querySelector("html"),{attributes:!0})),window.customHeaderObservers=[a,c,l,d]};function _createForOfIteratorHelper$4(t,o){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function _unsupportedIterableToArray$4(t,o){if(!t)return;if("string"==typeof t)return _arrayLikeToArray$4(t,o);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$4(t,o)}(t))||o&&t&&"number"==typeof t.length){r&&(t=r);var i=0,a=function F(){};return{s:a,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,d=!1;return{s:function s(){r=t[Symbol.iterator]()},n:function n(){var t=r.next();return l=t.done,t},e:function e(t){d=!0,c=t},f:function f(){try{l||null==r.return||r.return()}finally{if(d)throw c}}}}function _arrayLikeToArray$4(t,o){(null==o||o>t.length)&&(o=t.length);for(var r=0,i=new Array(o);r<o;r++)i[r]=t[r];return i}function ownKeys$3(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);o&&(i=i.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,i)}return r}function _objectSpread$3(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?ownKeys$3(Object(r),!0).forEach((function(o){R(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$3(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var Pe=function(){function CustomHeaderConfig(){T(this,CustomHeaderConfig)}var t;return A(CustomHeaderConfig,null,[{key:"buildConfig",value:function buildConfig(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:J();window.customHeaderUnsub||(window.customHeaderUnsub=[]);var r=E();o&&r&&(this.default_config=be(),this.config=_objectSpread$3(_objectSpread$3({},this.default_config),o.config.custom_header),this.template_vars=this.config.template_variables,this.last_template_result=null,this.test_config=_objectSpread$3(_objectSpread$3({},this.config),I(this.config,E())),this.template_failed=!1,this.disabled="boolean"==typeof this.test_config.disabled_mode&&this.test_config.disabled_mode||"string"==typeof this.test_config.disabled_mode&&!this.test_config.disabled_mode.includes("{{")&&!this.test_config.disabled_mode.includes("{%")||window.location.href.includes("disable_ch"),this.renderTemplate(t,E()),this.catchTemplate())}},{key:"renderTemplate",value:function renderTemplate(t,o){var r=this;if(this.disabled)this.config=I(this.config,E()),this.processAndContinue(t,E());else{var i=JSON.stringify(this.template_vars).replace(/\\/g,""),a=JSON.stringify(this.config).replace(/\\/g,"");this.unsub=L((function(i){try{i=(i=(i=i.replace(/"true"/gi,"true")).replace(/"false"/gi,"false")).replace(/""/,""),r.config=JSON.parse(i),r.config=I(r.config)}catch(t){r.template_failed=!0,r.helpfulTempError(i,t)}JSON.stringify(window.last_template_result)!=JSON.stringify(r.config)?(clearTimeout(window.customHeaderTempTimeout),r.changed=!0,window.last_template_result=r.config,r.processAndContinue(t,o)):r.changed=!1}),{template:i+a},this.config.locale)}}},{key:"helpfulTempError",value:function helpfulTempError(t,o){var r,i=o.toString().match(/\d+/g);if(i){i=o.toString().match(/\d+/g)[0];var a=t.substr(0,i).match(/[^,]*$/),c=t.substr(i).match(/^[^,]*/);r="".concat(a?a[0]:"").concat(c?c[0]:"").replace('":"',': "'),r="[CUSTOM-HEADER] There was an issue with the template: ".concat(r)}r&&r.includes("locale")&&(r='[CUSTOM-HEADER] There was an issue one of your "template_variables".'),r&&console.log(r)}},{key:"catchTemplate",value:(t=M(H.mark((function _callee(){var t,o,r;return H.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,this.unsub;case 3:if(t=i.sent,this.changed){o=_createForOfIteratorHelper$4(window.customHeaderUnsub);try{for(o.s();!(r=o.n()).done;)(0,r.value)()}catch(t){o.e(t)}finally{o.f()}window.customHeaderUnsub=[],window.customHeaderUnsub.push(t)}else t();i.next=14;break;case 7:if(i.prev=7,i.t0=i.catch(0),this.template_failed=!0,!this.disabled){i.next=12;break}return i.abrupt("return");case 12:console.log("[CUSTOM-HEADER] There was an error with one or more of your templates:"),console.log("".concat(i.t0.message.substring(0,i.t0.message.indexOf(")")),")"));case 14:case"end":return i.stop()}}),_callee,this,[[0,7]])}))),function catchTemplate(){return t.apply(this,arguments)})},{key:"processAndContinue",value:function processAndContinue(t,o){var r=this,i=this.config;if(i.disabled_mode?i={disabled_mode:!0}:(i.hide_tabs&&(i.hide_tabs=z(i.hide_tabs)),i.show_tabs&&(i.show_tabs=z(i.show_tabs)),i.show_tabs&&i.show_tabs.length&&(i.hide_tabs=function invertNumArray(t){if(t&&t.length){var o=[],r=E();if(!r||!r.tabs)return[];for(var i=0;i<r.tabs.length;i+=1)o.push(i);return o.filter((function(o){return!t.includes(o)}))}}(i.show_tabs)),(i.disable_sidebar||i.menu_dropdown)&&(i.menu_hide=!0),i.voice_dropdown&&(i.voice_hide=!0),null!=i.header_text&&""==i.header_text&&(i.header_text=this.default_config.header_text),i.header_text&&" "==i.header_text&&(i.header_text="&nbsp;"),i.split_mode&&(i.compact_mode=!1),i.hide_header&&i.disable_sidebar&&(i.kiosk_mode=!0,i.hide_header=!1,i.disable_sidebar=!1),null!=i.test_template&&(this.disabled?console.log("Custom Header cannot render templates while disabled."):"string"==typeof i.test_template&&(i.test_template.toLowerCase().includes("true")||i.test_template.toLowerCase().includes("false"))?(console.log('Custom Header test returned: "'.concat(i.test_template,'"')),console.log("Warning: Boolean is returned as string instead of Boolean.")):"string"==typeof i.test_template?console.log('Custom Header test returned: "'.concat(i.test_template,'"')):console.log("Custom Header test returned: ".concat(i.test_template)))),window.customHeaderTempTimeout){var a,c=_createForOfIteratorHelper$4(window.customHeaderTempTimeout);try{for(c.s();!(a=c.n()).done;){var l=a.value;clearTimeout(l)}}catch(t){c.e(t)}finally{c.f()}}window.customHeaderTempTimeout=[];var d=window.setTimeout((function(){if(o=E()){var i=o.panel?o.panel.shadowRoot.querySelector("hui-editor"):null;!o.panel||i||r.template_failed||o.root&&o.root.querySelector("custom-header-editor")||r.buildConfig(t)}}),1e3*(60-(new Date).getSeconds()));if(window.customHeaderTempTimeout.push(d),"edit-mode"!=o.root.querySelector("app-toolbar").className){if(window.customHeaderObservers){var u,h=_createForOfIteratorHelper$4(window.customHeaderObservers);try{for(h.s();!(u=h.n()).done;){u.value.disconnect()}}catch(t){h.e(t)}finally{h.f()}window.customHeaderObservers=[]}!function styleHeader(t,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E();if(r){if(Ce(o.header,t,r),Ce(o.header,t,r),window.location.href.includes("disable_ch")&&(t.disabled_mode=!0),t.disabled_mode)return window.customHeaderDisabled=!0,Oe(r),r.appHeader.style.display="",o.header.container&&(o.header.container.style.visibility="hidden"),o.footer.container&&(o.footer.container.style.visibility="hidden"),r.root.querySelector("#ch_header_style")&&r.root.querySelector("#ch_header_style").remove(),r.root.querySelector("#ch_view_style")&&r.root.querySelector("#ch_view_style").remove(),o.header.tabContainer.shadowRoot.querySelector("#ch_chevron")&&(o.header.tabContainer.shadowRoot.querySelector("#ch_chevron").remove(),o.footer.tabContainer.shadowRoot.querySelector("#ch_chevron").remove()),o.header.menu.style.display="none",r.root.querySelector("ha-menu-button").style.display="",r.sidebar.main.querySelector(".menu").style="",r.sidebar.main.querySelector("paper-listbox").style="",r.sidebar.main.querySelector("div.divider").style="",void window.dispatchEvent(new Event("resize"));window.customHeaderDisabled=!1,Se(t,o.header,!1,r),o.header.menu.style.display="",o.header.container&&(o.header.container.style.visibility="visible"),o.footer.container&&(o.footer.container.style.visibility="visible"),t.compact_mode||t.button_scroll?(o.header.tabContainer.style.display="",o.footer.container.style.display="none"):(o.header.tabContainer.style.display="none",o.footer.container.style.display=""),t.split_mode?(o.header.tabContainer.style.display="none",t.footer_mode?o.footer.container.setAttribute("slot","header"):o.footer.container.setAttribute("slot","")):t.footer_mode?t.footer_mode&&o.footer.container.setAttribute("slot",""):o.footer.container.setAttribute("slot","header");var i=t.compact_mode||t.button_scroll?o.header:o.footer;o.header.tabs.length||(t.compact_mode=!1),t.menu_dropdown&&!t.disable_sidebar?xe("Menu","mdi:menu",o.header,t):o.header.options.querySelector("#menu_dropdown")&&o.header.options.querySelector("#menu_dropdown").remove(),t.voice_dropdown?xe("Voice","mdi:microphone",o.header,t):o.header.options.querySelector("#voice_dropdown")&&o.header.options.querySelector("#voice_dropdown").remove(),t.reverse_button_direction?(o.header.options.setAttribute("horizontal-align","left"),o.header.options.querySelector("paper-listbox").setAttribute("dir","ltr")):(o.header.options.setAttribute("horizontal-align","right"),o.header.options.querySelector("paper-listbox").setAttribute("dir","rtl"));var a=document.createElement("style");if(a.setAttribute("id","ch_header_style"),a.innerHTML="\n    .menu, paper-listbox {\n      transition: height 0.1s ease-in-out 0s;\n    }\n    .divider {\n      transition: margin-bottom 0.1s ease-in-out 0s;\n    }\n  ",r.sidebar.main.appendChild(a),t.kiosk_mode&&!t.disabled_mode?(Ee(t,o,r),ke(r,!1,!1,t)):t.disable_sidebar?(ke(r,!0,!1,t),Ee(t,o,r)):t.hide_header?(Ee(t,o,r),ke(r,!1,!0,t)):t.disable_sidebar||t.kiosk_mode||t.hide_header||(Oe(r),t.compact_mode&&!t.footer_mode||!o.header.tabs.length?(r.sidebar.main.querySelector(".menu").style="height:49px;",r.sidebar.main.querySelector("paper-listbox").style="height:calc(100% - 175px);",r.sidebar.main.querySelector("div.divider").style=""):t.footer_mode&&!t.split_mode?(r.sidebar.main.querySelector(".menu").style="",r.sidebar.main.querySelector("paper-listbox").style="height: calc(100% - 170px);",r.sidebar.main.querySelector("div.divider").style="margin-bottom: -10px;"):t.split_mode?(r.sidebar.main.querySelector(".menu").style="height:49px;",r.sidebar.main.querySelector("paper-listbox").style="height: calc(100% - 170px);",r.sidebar.main.querySelector("div.divider").style="margin-bottom: -3px;"):(r.sidebar.main.querySelector(".menu").style="",r.sidebar.main.querySelector("paper-listbox").style="",r.sidebar.main.querySelector("div.divider").style=""),Ee(t,o,r)),t.chevrons?i.tabContainer.hideScrollButtons=!1:i.tabContainer.hideScrollButtons=!0,t.indicator_top?i.tabContainer.alignBottom=!0:i.tabContainer.alignBottom=!1,t.footer_mode?o.header.options.setAttribute("vertical-align","bottom"):o.header.options.removeAttribute("vertical-align"),t.footer_mode?o.header.container.removeAttribute("slot"):o.header.container.setAttribute("slot","header"),i.tabContainer.dir=t.reverse_tab_direction?"rtl":"ltr",o.header.container.dir=t.reverse_button_direction?"rtl":"ltr",t.tab_icons&&i.tabs.length)for(var c in t.tab_icons){var l=N(c);if(i.tabs[l]){var d=i.tabs[l].querySelector("ha-icon");t.tab_icons[c]?d.icon=t.tab_icons[c]:d.icon=r.lovelace.config.views[l].icon}}if(t.button_icons)for(var u in t.button_icons)o.header[u]&&(t.button_icons[u]?"options"===u?o.header[u].querySelector("ha-icon-button, paper-icon-button").icon=t.button_icons[u]:o.header[u].icon=t.button_icons[u]:"menu"===u?o.header.menu.icon="mdi:menu":"voice"===u&&o.header.voice?o.header.voice.icon="mdi:microphone":"options"===u&&(o.header[u].querySelector("ha-icon-button, paper-icon-button").icon="mdi:dots-vertical"));if(t.button_text)for(var h in t.button_text){var p=document.createElement("p");p.className="buttonText";var m="options"===h?o.header[h].querySelector("ha-icon-button, paper-icon-button"):o.header[h];t.button_text[h]||!m.shadowRoot.querySelector(".buttonText")?t.button_text[h]&&(m.shadowRoot.querySelector(".buttonText")?m.shadowRoot.querySelector(".buttonText").innerHTML=t.button_text[h]:(p.innerHTML=t.button_text[h],m.shadowRoot.appendChild(p)),m.shadowRoot.querySelector(".buttonText").dir="ltr",m.shadowRoot.querySelector(".buttonText").style.textAlign="menu"==h?t.reverse_button_direction?"right":"left":t.reverse_button_direction?"left":"right",m.shadowRoot.querySelector("mwc-icon-button, iron-icon")&&(m.shadowRoot.querySelector("mwc-icon-button, iron-icon").style.display="none",m.style.width="auto",t.button_text[h].includes("<br>")?m.shadowRoot.querySelector("mwc-icon-button")?(m.shadowRoot.querySelector(".buttonText").style.fontSize="17px",m.shadowRoot.querySelector(".buttonText").style.lineHeight="1.2",m.shadowRoot.querySelector(".buttonText").style.margin="4.5px 0px 0px 0px"):(m.shadowRoot.querySelector(".buttonText").style.fontSize="17px",m.shadowRoot.querySelector(".buttonText").style.lineHeight="1.2",m.shadowRoot.querySelector(".buttonText").style.margin="-5px 0px 0px 0px"):m.shadowRoot.querySelector("mwc-icon-button")?m.shadowRoot.querySelector(".buttonText").style.margin="12px 0px 0px 0px":m.shadowRoot.querySelector(".buttonText").style.margin="5.5px 0px 0px 0px")):(m.shadowRoot.querySelector(".buttonText").remove(),m.shadowRoot.querySelector("ha-icon, iron-icon").style.display="",m.style.width="")}i.tabs.length||(i.tabContainer.style.display="none"),je(t,o,r),window.customHeaderShrink||t.split_mode||t.footer_mode||(window.customHeaderShrink=!0,window.addEventListener("scroll",(function(r){var i="none"===window.getComputedStyle(o.header.container.querySelector("#ch-content-container")).getPropertyValue("display");"0px"===window.getComputedStyle(o.header.container).getPropertyValue("bottom")||i||(t.button_scroll?(window.scrollY>48?(o.header.container.style.top="-48px",o.header.menu.style.marginTop="48px",o.header.voice&&(o.header.voice.style.marginTop="48px"),o.header.options.style.marginTop="48px"):(o.header.container.style.transition="0s",o.header.menu.style.transition="0s",o.header.voice&&(o.header.voice.style.transition="0s"),o.header.options.style.transition="0s",o.header.container.style.top="-".concat(window.scrollY,"px"),o.header.menu.style.marginTop="".concat(window.scrollY,"px"),o.header.voice&&(o.header.voice.style.marginTop="".concat(window.scrollY,"px")),o.header.options.style.marginTop="".concat(window.scrollY,"px")),o.header.container.style.transition=""):(window.scrollY>48?o.header.container.style.top="-48px":(o.header.container.style.transition="0s",o.header.container.style.top="-".concat(window.scrollY,"px")),o.header.container.style.transition=""))})));var _=function shadowScroll(){window.scrollY>15?o.footer.container.style.boxShadow="0px 0px 5px 5px rgba(0,0,0,0.2)":o.footer.container.style.boxShadow="0px 0px 5px 5px rgba(0,0,0,0)"};window.customHeaderShadow||t.footer_mode||t.split_mode||!t.shadow?window.removeEventListener("scroll",_):(window.customHeaderShadow=!0,window.addEventListener("scroll",_)),j(o.header.container,"iron-resize"),qe(t,o),Te(t,o)}}(i,t,o),Ae(i,t,o)}}}]),CustomHeaderConfig}();console.info(`%c  CUSTOM-HEADER  \n%c  ${localize("common.version")} 1.5.2  `,"color: orange; font-weight: bold; background: black","color: white; font-weight: bold; background: dimgray"),window.setTimeout(()=>{customElements.get("card-tools")||console.log("Device ID: ",q)},2e3);const hideHeader=t=>{t&&t.appHeader&&(t.appHeader.style.display="none")};window.location.href.includes("disable_ch")||hideHeader(E());const rebuild=()=>{const t=E();if(!document.querySelector("home-assistant").shadowRoot.querySelector("home-assistant-main").shadowRoot.querySelector("ha-panel-lovelace"))return;if(document.querySelector("home-assistant").shadowRoot.querySelector("home-assistant-main").shadowRoot.querySelector("ha-panel-lovelace").shadowRoot.querySelector("hui-editor")){let t;const editModeCallback=o=>{for(const r of o)for(const o of r.removedNodes)if("HUI-EDITOR"==o.nodeName){return(()=>{const t=window.setTimeout(()=>{E().root.querySelector("app-toolbar")&&clearTimeout(t)},100)})(),rebuild(),void t.disconnect()}};return t=new MutationObserver(editModeCallback),void t.observe(document.querySelector("home-assistant").shadowRoot.querySelector("home-assistant-main").shadowRoot.querySelector("ha-panel-lovelace").shadowRoot,{childList:!0,subtree:!0})}if(t&&t.root.querySelector("app-toolbar")&&"edit-mode"==t.root.querySelector("app-toolbar").className){let o;const editModeCallback=t=>{for(const r of t)for(const t of r.removedNodes)if(t.classList&&t.classList.contains("edit-mode"))return rebuild(),void o.disconnect()};return o=new MutationObserver(editModeCallback),void o.observe(t.appLayout,{childList:!0,subtree:!0})}let o;if(window.last_template_result=[],clearTimeout(window.customHeaderTempTimeout),window.location.href.includes("disable_ch")||hideHeader(t),t){if(t&&t.lovelace&&t.menu){if(clearTimeout(o),window.customHeaderUnsub&&window.customHeaderUnsub.length){for(const t of window.customHeaderUnsub)t();window.customHeaderUnsub=[]}const r=new P(t);Pe.buildConfig(r),Pe.buildConfig(r),rawConfigObserver()}}else o=window.setTimeout(()=>{rebuild()},100)},rawConfigObserver=()=>{const t=E();window.customHeaderRebuildMO&&window.customHeaderRebuildMO.disconnect(),window.customHeaderRawConfigExit&&window.customHeaderRawConfigExit.disconnect(),t&&t.partialPanel||window.setTimeout(()=>{rawConfigObserver()},100),window.customHeaderRebuildMO=new MutationObserver(rebuild),window.customHeaderRebuildMO.observe(document.querySelector("home-assistant").shadowRoot.querySelector("home-assistant-main").shadowRoot.querySelector("partial-panel-resolver"),{childList:!0});window.customHeaderRawConfigExit=new MutationObserver(t=>{for(const o of t)for(const t of o.removedNodes)if("HUI-EDITOR"==t.nodeName){(()=>{const t=window.setTimeout(()=>{if(document.querySelector("home-assistant").shadowRoot.querySelector("home-assistant-main").shadowRoot.querySelector("ha-panel-lovelace").shadowRoot.querySelector("hui-root").shadowRoot.querySelector("app-toolbar"))return rebuild(),void clearTimeout(t)},100)})()}}),window.customHeaderRawConfigExit.observe(document.querySelector("home-assistant").shadowRoot.querySelector("home-assistant-main").shadowRoot.querySelector("ha-panel-lovelace").shadowRoot,{childList:!0})};rebuild();export{rebuild};
